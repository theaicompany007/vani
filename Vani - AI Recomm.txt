
(venv) C:\Raaj\kcube_consulting_labs\vani>vani
========================================
  VANI - Virtual Agent Network Interface
========================================

[1/2] Activating virtual environment...
[OK] Virtual environment activated

[2/2] Checking dependencies...
Starting VANI application...


======================================================================
  VANI OUTREACH COMMAND CENTER - STARTUP
======================================================================

[0/5] Cleaning up existing processes...
  [OK] Killed ngrok processes

[1/5] Checking environment variables...
  [OK] SUPABASE_URL              = https://rkntrsprfcypwikshvsf.supabase.co
  [OK] SUPABASE_KEY              = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJrbnRyc3ByZmN5cHdpa3NodnNmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwNjEzMDcsImV4cCI6MjA4MDYzNzMwN30.ilGFLUQAqg6wIgj5Akf00raVdB0WkjfLXQX1z3L2w40
  [OK] SUPABASE_SERVICE_KEY      = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJrbnRyc3ByZmN5cHdpa3NodnNmIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NTA2MTMwNywiZXhwIjoyMDgwNjM3MzA3fQ.tFQdXZ_XEK85TS9dW0GPFIdNHKNDMPv0hUcizdS0SMs
  [OK] RESEND_API_KEY            = re_i1Q5BpxP_13otSmqXwbzFbNh3XYcLvn6C
  [OK] TWILIO_ACCOUNT_SID        = AC0b78d044fe00fd25de302451b277571d
  [OK] TWILIO_AUTH_TOKEN         = 2yXFVI3f7lkNmrDnHC8WJl5Jk8CYQCIj
  [OK] OPENAI_API_KEY            = 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
  [OK] RAG_API_KEY               = 27e887d021a49654a0a703688cb139cdf652dfec795009a5afb8e9556c49b181
  [OK] RAG_SERVICE_URL           = https://rag.kcube-consulting.com
  [OK] GEMINI_API_KEY            = AIzaSyAgehj_KDtxFC-rt0yGV7qZE6q9TSqTZxY
  [OK] SUPABASE_ACCESS_TOKEN     = sbp_c18882db5dcfc73fbd054a609354b2139a773df0
  [OK] TWILIO_SANDBOX_WHATSAPP_NUMBER = whatsapp:+14155238886
  [OK] TWILIO_WHATSAPP_NUMBER    = whatsapp:+15513216580
  [OK] TWILIO_PHONE_NUMBER       = +13253997829
  [OK] TWILIO_SANDBOX_WHATSAPP_NUMBER = whatsapp:+14155238886
  [OK] TWILIO_WHATSAPP_NUMBER    = whatsapp:+15513216580
  [OK] TWILIO_PHONE_NUMBER       = +13253997829

[AI] AI Target Finder Feature Status:
  [OK] OpenAI API configured - Basic AI features available
  [OK] Enhanced features available:
       - RAG-enhanced contact analysis
       - Gemini/Notebook LM integration
  [‚úì] Full AI Target Finder capabilities available!
[OK] All required environment variables are set

[2/5] Checking database connection...
  [OK] Database connected - Tables accessible
[3/5] Checking ngrok tunnel...
  [!] Ngrok not running (webhooks won't work)
      Start with: .\scripts\start_ngrok.ps1
      Or set WEBHOOK_BASE_URL in .env.local for manual configuration
    Expected URL: https://vani.ngrok.app
    [!] Will start ngrok after Flask starts

[4/5] Starting Flask application...

======================================================================
  FLASK SERVER STARTING
======================================================================

Local URL:        http://127.0.0.1:5000
Command Center:   http://127.0.0.1:5000/command-center

[5/5] Waiting for Flask to start, then starting ngrok...
  Verifying Flask is listening on port...
[INFO] app.supabase_client: Supabase client initialized successfully
[INFO] app.auth: Supabase Auth client initialized
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): localhost:5000
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:19:22] "GET / HTTP/1.1" 302 -
[DEBUG] urllib3.connectionpool: http://localhost:5000 "GET / HTTP/1.1" 302 199
[DEBUG] urllib3.connectionpool: Resetting dropped connection: localhost
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:19:24] "GET /login HTTP/1.1" 200 -
[DEBUG] urllib3.connectionpool: http://localhost:5000 "GET /login HTTP/1.1" 200 11859
  [OK] Flask is accessible on localhost:5000
  [OK] Flask is ready!

Starting ngrok tunnel...
  Verifying Flask is accessible on port 5000...
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): 127.0.0.1:5000
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:19:26] "GET / HTTP/1.1" 302 -
[DEBUG] urllib3.connectionpool: http://127.0.0.1:5000 "GET / HTTP/1.1" 302 199
[DEBUG] urllib3.connectionpool: Resetting dropped connection: 127.0.0.1
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:19:27] "GET /login HTTP/1.1" 200 -
[DEBUG] urllib3.connectionpool: http://127.0.0.1:5000 "GET /login HTTP/1.1" 200 11859
  [OK] Flask accessible on 127.0.0.1:5000
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): localhost:4040
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): localhost:4040
[DEBUG] urllib3.connectionpool: http://localhost:4040 "GET /api/tunnels HTTP/1.1" 200 415

  [*] Configuring webhooks with ngrok URL...
Using WhatsApp Sandbox: whatsapp:+14155238886

======================================================================
  WEBHOOK CONFIGURATION
======================================================================
Base URL: https://vani.ngrok.app


======================================================================
  CONFIGURING RESEND WEBHOOK
======================================================================
Webhook URL: https://vani.ngrok.app/api/webhooks/resend
API Key: re_i1Q5Bpx...vn6C
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.resend.com:443
[DEBUG] urllib3.connectionpool: https://api.resend.com:443 "GET /domains HTTP/1.1" 200 None
‚úÖ API key validated successfully
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.resend.com:443
[DEBUG] urllib3.connectionpool: https://api.resend.com:443 "GET /webhooks HTTP/1.1" 200 None

Found 1 existing webhook(s)

Creating new webhook...
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.resend.com:443
[DEBUG] urllib3.connectionpool: https://api.resend.com:443 "POST /webhooks HTTP/1.1" 422 88
‚ùå Failed to create webhook: {"statusCode":422,"message":"Missing `endpoint` field.","name":"missing_required_field"}

======================================================================
  CONFIGURING TWILIO WEBHOOK
======================================================================
Webhook URL: https://vani.ngrok.app/api/webhooks/twilio
WhatsApp Number: 14155238886
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.twilio.com:443
[DEBUG] urllib3.connectionpool: https://api.twilio.com:443 "GET /2010-04-01/Accounts/AC0b78d044fe00fd25de302451b277571d/IncomingPhoneNumbers.json HTTP/1.1" 401 107
‚ùå Failed to fetch phone numbers: {"code":20003,"message":"Authenticate","more_info":"https://www.twilio.com/docs/errors/20003","status":401}

======================================================================
  CONFIGURING CAL.COM WEBHOOK
======================================================================
Webhook URL: https://vani.ngrok.app/api/webhooks/cal-com
‚úÖ Using Cal.com v1 API (Bearer token)
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.cal.com:443
[DEBUG] urllib3.connectionpool: https://api.cal.com:443 "GET /v1/webhooks HTTP/1.1" 401 32
‚ö†Ô∏è  Could not list webhooks: {"message":"No apiKey provided"}

Creating new webhook...
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.cal.com:443
[DEBUG] urllib3.connectionpool: https://api.cal.com:443 "POST /v1/webhooks HTTP/1.1" 401 32
‚ùå Failed to create webhook: {"message":"No apiKey provided"}

======================================================================
  SUMMARY
======================================================================
‚ùå RESEND          - failed
   Error: {"statusCode":422,"message":"Missing `endpoint` field.","name":"missing_required_field"}
‚ùå TWILIO          - failed
   Error: Could not fetch phone numbers
‚ùå CAL_COM         - failed
   Error: {"message":"No apiKey provided"}

‚úÖ Configured: 0/3 services
  [!] Webhooks partially configured (0/3)
      Run 'python scripts/configure_webhooks.py' for details

  [*] Configuring Supabase OAuth URLs...

======================================================================
  CONFIGURING SUPABASE OAUTH URLS
======================================================================
Project: rkntrsprfcypwikshvsf
App URL: https://vani.ngrok.app

üìã Redirect URLs to configure:
   1. http://localhost:5000
   2. http://localhost:5000/command-center
   3. http://localhost:5000/login
   4. https://vani.ngrok.app
   5. https://vani.ngrok.app/api/auth/callback
   6. https://vani.ngrok.app/command-center
   7. https://vani.ngrok.app/login

[*] Attempting to update via Supabase Management API...
   Using SUPABASE_ACCESS_TOKEN from: .env.local
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.supabase.com:443
[DEBUG] urllib3.connectionpool: https://api.supabase.com:443 "PATCH /v1/projects/rkntrsprfcypwikshvsf/config/auth HTTP/1.1" 200 None
‚úÖ Successfully updated via Management API!
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): localhost:4040
[DEBUG] app.auth: require_auth: Validating token for /command-center
[DEBUG] urllib3.connectionpool: http://localhost:4040 "GET /api/tunnels HTTP/1.1" 200 415

======================================================================
  SERVER STATUS
======================================================================

Local URL:        http://127.0.0.1:5000
Command Center:   http://127.0.0.1:5000/command-center

‚úÖ PUBLIC URL (Ngrok): https://vani.ngrok.app
   Command Center:     https://vani.ngrok.app/command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:19:46] "GET /command-center HTTP/1.1" 200 -

üìã Webhook Endpoints:
   Resend:    https://vani.ngrok.app/api/webhooks/resend
   Twilio:    https://vani.ngrok.app/api/webhooks/twilio
   Cal.com:   https://vani.ngrok.app/api/webhooks/cal-com

üí° Tip: Webhooks are auto-configured when ngrok is detected.
   To reconfigure manually: python scripts/configure_webhooks.py

======================================================================
  ‚úÖ SERVER RUNNING
======================================================================

Press Ctrl+C to stop the server

[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:19:48] "GET /static/css/tailwind.css HTTP/1.1" 304 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:19:54] "GET /favicon.ico HTTP/1.1" 404 -
[INFO] app.api.auth: Session check for user raaj007@gmail.com: is_super_user=True, token_present=True
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:19:55] "GET /api/auth/session HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:19:55] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1, offset=0
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:19:57] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[DEBUG] app.api.companies: Found 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:19:57] "GET /api/meetings HTTP/1.1" 200 -
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:19:57] "GET /api/targets HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:19:57] "GET /api/companies?limit=1 HTTP/1.1" 200 -
[INFO] app.api.contacts: Contacts API: Returning 1 contacts (total: 2003), 0 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:19:57] "GET /api/contacts?limit=1 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:20:00] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.api.companies: Found 100 companies
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:20:05] "GET /api/dashboard/stats HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:20:22] "GET /api/companies HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:20:32] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:20:33] "GET /static/css/tailwind.css HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:20:35] "GET /favicon.ico HTTP/1.1" 404 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:20:36] "GET /api/industries HTTP/1.1" 200 -
[INFO] app.api.auth: Session check for user raaj007@gmail.com: is_super_user=True, token_present=True
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:20:36] "GET /api/auth/session HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1, offset=0
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:20:38] "GET /api/meetings HTTP/1.1" 200 -
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.companies: Found 1 companies
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:20:38] "GET /api/targets HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:20:38] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] app.api.contacts: Contacts API: Returning 1 contacts (total: 2003), 0 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:20:38] "GET /api/contacts?limit=1 HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:20:38] "GET /api/companies?limit=1 HTTP/1.1" 200 -
[INFO] app.api.contacts: Contacts API: Returning 1000 contacts (total: 2003), 943 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:20:39] "GET /api/contacts HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.api.companies: Found 100 companies
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:20:41] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1000, offset=0
[DEBUG] app.api.companies: Found 1000 companies
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:20:46] "GET /api/dashboard/stats HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:21:00] "GET /api/companies HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:21:09] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:21:10] "GET /static/css/tailwind.css HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:21:11] "GET /favicon.ico HTTP/1.1" 404 -
[INFO] app.api.auth: Session check for user raaj007@gmail.com: is_super_user=True, token_present=True
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:21:12] "GET /api/auth/session HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:21:12] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1, offset=0
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:21:14] "GET /api/targets HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:21:14] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[DEBUG] app.api.companies: Found 100 companies
[DEBUG] app.api.companies: Found 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:21:14] "GET /api/meetings HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:21:14] "GET /api/companies?limit=1 HTTP/1.1" 200 -
[INFO] app.api.contacts: Contacts API: Returning 1 contacts (total: 2003), 0 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:21:14] "GET /api/contacts?limit=1 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:21:17] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:21:22] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.api.companies: Found 100 companies
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:21:35] "GET /api/companies HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:21:55] "GET /api/companies HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1000 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:24:07] "GET /api/companies?limit=1000 HTTP/1.1" 200 -
[WARNING] app.auth: require_auth: No session object for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:24:20] "GET /command-center HTTP/1.1" 302 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:24:21] "GET /login?next=http://vani.ngrok.app/command-center HTTP/1.1" 200 -
[INFO] app.api.auth: User raaj007@gmail.com logged in successfully.
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:24:30] "POST /login HTTP/1.1" 302 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:24:31] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:24:32] "GET /static/css/tailwind.css HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] app.api.auth: Session check for user raaj007@gmail.com: is_super_user=True, token_present=True
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:24:34] "GET /api/auth/session HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:24:34] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1, offset=0
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.api.companies: Found 1 companies
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:24:36] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:24:36] "GET /api/targets HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:24:36] "GET /api/meetings HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:24:36] "GET /api/companies?limit=1 HTTP/1.1" 200 -
[INFO] app.api.contacts: Contacts API: Returning 1 contacts (total: 2003), 0 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:24:36] "GET /api/contacts?limit=1 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/users
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.api.auth: list_users: Fetching users for super user raaj007@gmail.com
[INFO] app.api.auth: list_users: Returning 5 users
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:24:38] "GET /api/auth/users HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:24:39] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.api.companies: Found 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:24:40] "GET /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:24:40] "GET /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:24:40] "GET /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:24:40] "GET /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:24:40] "GET /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:24:44] "GET /api/dashboard/stats HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:25:00] "GET /api/companies HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:25:19] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:25:20] "GET /static/css/tailwind.css HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:25:21] "GET /favicon.ico HTTP/1.1" 404 -
[INFO] app.api.auth: Session check for user raaj007@gmail.com: is_super_user=True, token_present=True
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:25:22] "GET /api/auth/session HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:25:22] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1, offset=0
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:25:23] "GET /api/targets HTTP/1.1" 200 -
[DEBUG] app.api.companies: Found 1 companies
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] app.api.companies: Successfully listed 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:25:23] "GET /api/companies?limit=1 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:25:24] "GET /api/meetings HTTP/1.1" 200 -
[INFO] app.api.contacts: Contacts API: Returning 1 contacts (total: 2003), 0 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:25:24] "GET /api/contacts?limit=1 HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:25:24] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:25:27] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:25:32] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:25:54] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:25:55] "GET /static/css/tailwind.css HTTP/1.1" 304 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:25:56] "GET /favicon.ico HTTP/1.1" 404 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] app.api.auth: Session check for user raaj007@gmail.com: is_super_user=True, token_present=True
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:25:56] "GET /api/auth/session HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:25:57] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1, offset=0
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.api.companies: Found 1 companies
[DEBUG] app.auth: require_auth: Validating token for /command-center
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] app.api.companies: Successfully listed 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:25:58] "GET /api/companies?limit=1 HTTP/1.1" 200 -
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:25:58] "GET /api/targets HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:25:58] "GET /api/meetings HTTP/1.1" 200 -
[INFO] app.api.contacts: Contacts API: Returning 1 contacts (total: 2003), 0 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:25:58] "GET /api/contacts?limit=1 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:25:59] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:25:59] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:26:00] "GET /static/css/tailwind.css HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:26:01] "GET /favicon.ico HTTP/1.1" 404 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:26:01] "GET /api/industries HTTP/1.1" 200 -
[INFO] app.api.auth: Session check for user raaj007@gmail.com: is_super_user=True, token_present=True
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:26:01] "GET /api/auth/session HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:26:02] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:26:03] "GET /api/meetings HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:26:03] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.api.companies: Found 100 companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1, offset=0
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:26:03] "GET /api/targets HTTP/1.1" 200 -
[DEBUG] app.api.companies: Found 1 companies
[INFO] app.api.contacts: Contacts API: Returning 1 contacts (total: 2003), 0 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:26:03] "GET /api/contacts?limit=1 HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:26:03] "GET /api/companies?limit=1 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:26:06] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:26:11] "GET /api/dashboard/stats HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:26:23] "GET /api/companies HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[WARNING] app.auth: require_auth: get_user() failed for /command-center: invalid JWT: unable to parse or verify signature, token has invalid claims: token is expired
[INFO] app.auth: require_auth: Attempting token refresh for /command-center
[INFO] app.auth: require_auth: Token refreshed successfully, retrying authentication
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:26:31] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:26:32] "GET /static/css/tailwind.css HTTP/1.1" 304 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:26:32] "GET /favicon.ico HTTP/1.1" 404 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] app.api.auth: Session check for user raaj007@gmail.com: is_super_user=True, token_present=True
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:26:33] "GET /api/auth/session HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:26:34] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1, offset=0
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.api.companies: Found 1 companies
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:26:35] "GET /api/targets HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] app.api.companies: Successfully listed 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:26:35] "GET /api/companies?limit=1 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:26:35] "GET /api/meetings HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:26:35] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] app.api.contacts: Contacts API: Returning 1 contacts (total: 2003), 0 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:26:35] "GET /api/contacts?limit=1 HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.api.companies: Found 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:26:38] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:26:43] "GET /api/dashboard/stats HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:26:56] "GET /api/companies HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[INFO] app.api.contacts: Contacts API: Returning 1000 contacts (total: 2003), 943 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:27:04] "GET /api/contacts HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1000, offset=0
[DEBUG] app.api.companies: Found 1000 companies
[INFO] app.api.companies: Successfully listed 1000 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:30:31] "GET /api/companies?limit=1000 HTTP/1.1" 200 -


[STOP] Server stopped by user
  Stopping Flask server...
  Stopping ngrok...
  [OK] Ngrok stopped

[OK] Cleanup complete. Exiting...

Terminate batch job (Y/N)? y

(venv) C:\Raaj\kcube_consulting_labs\vani>vani
========================================
  VANI - Virtual Agent Network Interface
========================================

[1/2] Activating virtual environment...
[OK] Virtual environment activated

[2/2] Checking dependencies...
Starting VANI application...


======================================================================
  VANI OUTREACH COMMAND CENTER - STARTUP
======================================================================

[0/5] Cleaning up existing processes...
  [OK] Killed ngrok processes

[1/5] Checking environment variables...
  [OK] SUPABASE_URL              = https://rkntrsprfcypwikshvsf.supabase.co
  [OK] SUPABASE_KEY              = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJrbnRyc3ByZmN5cHdpa3NodnNmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwNjEzMDcsImV4cCI6MjA4MDYzNzMwN30.ilGFLUQAqg6wIgj5Akf00raVdB0WkjfLXQX1z3L2w40
  [OK] SUPABASE_SERVICE_KEY      = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJrbnRyc3ByZmN5cHdpa3NodnNmIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NTA2MTMwNywiZXhwIjoyMDgwNjM3MzA3fQ.tFQdXZ_XEK85TS9dW0GPFIdNHKNDMPv0hUcizdS0SMs
  [OK] RESEND_API_KEY            = re_i1Q5BpxP_13otSmqXwbzFbNh3XYcLvn6C
  [OK] TWILIO_ACCOUNT_SID        = AC0b78d044fe00fd25de302451b277571d
  [OK] TWILIO_AUTH_TOKEN         = 2yXFVI3f7lkNmrDnHC8WJl5Jk8CYQCIj
  [OK] OPENAI_API_KEY            = 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
  [OK] RAG_API_KEY               = 27e887d021a49654a0a703688cb139cdf652dfec795009a5afb8e9556c49b181
  [OK] RAG_SERVICE_URL           = https://rag.kcube-consulting.com
  [OK] GEMINI_API_KEY            = AIzaSyAgehj_KDtxFC-rt0yGV7qZE6q9TSqTZxY
  [OK] SUPABASE_ACCESS_TOKEN     = sbp_c18882db5dcfc73fbd054a609354b2139a773df0
  [OK] TWILIO_SANDBOX_WHATSAPP_NUMBER = whatsapp:+14155238886
  [OK] TWILIO_WHATSAPP_NUMBER    = whatsapp:+15513216580
  [OK] TWILIO_PHONE_NUMBER       = +13253997829
  [OK] TWILIO_SANDBOX_WHATSAPP_NUMBER = whatsapp:+14155238886
  [OK] TWILIO_WHATSAPP_NUMBER    = whatsapp:+15513216580
  [OK] TWILIO_PHONE_NUMBER       = +13253997829

[AI] AI Target Finder Feature Status:
  [OK] OpenAI API configured - Basic AI features available
  [OK] Enhanced features available:
       - RAG-enhanced contact analysis
       - Gemini/Notebook LM integration
  [‚úì] Full AI Target Finder capabilities available!
[OK] All required environment variables are set

[2/5] Checking database connection...
  [OK] Database connected - Tables accessible
[3/5] Checking ngrok tunnel...
  [!] Ngrok not running (webhooks won't work)
      Start with: .\scripts\start_ngrok.ps1
      Or set WEBHOOK_BASE_URL in .env.local for manual configuration
    Expected URL: https://vani.ngrok.app
    [!] Will start ngrok after Flask starts

[4/5] Starting Flask application...

======================================================================
  FLASK SERVER STARTING
======================================================================

Local URL:        http://127.0.0.1:5000
Command Center:   http://127.0.0.1:5000/command-center

[5/5] Waiting for Flask to start, then starting ngrok...
  Verifying Flask is listening on port...
[INFO] app.supabase_client: Supabase client initialized successfully
[INFO] app.auth: Supabase Auth client initialized
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): localhost:5000
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:31:01] "GET / HTTP/1.1" 302 -
[DEBUG] urllib3.connectionpool: http://localhost:5000 "GET / HTTP/1.1" 302 199
[DEBUG] urllib3.connectionpool: Resetting dropped connection: localhost
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:31:03] "GET /login HTTP/1.1" 200 -
[DEBUG] urllib3.connectionpool: http://localhost:5000 "GET /login HTTP/1.1" 200 11859
  [OK] Flask is accessible on localhost:5000
  [OK] Flask is ready!

Starting ngrok tunnel...
  Verifying Flask is accessible on port 5000...
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): 127.0.0.1:5000
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:31:05] "GET / HTTP/1.1" 302 -
[DEBUG] urllib3.connectionpool: http://127.0.0.1:5000 "GET / HTTP/1.1" 302 199
[DEBUG] urllib3.connectionpool: Resetting dropped connection: 127.0.0.1
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:31:05] "GET /login HTTP/1.1" 200 -
[DEBUG] urllib3.connectionpool: http://127.0.0.1:5000 "GET /login HTTP/1.1" 200 11859
  [OK] Flask accessible on 127.0.0.1:5000
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): localhost:4040
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): localhost:4040
[DEBUG] urllib3.connectionpool: http://localhost:4040 "GET /api/tunnels HTTP/1.1" 200 415

  [*] Configuring webhooks with ngrok URL...
Using WhatsApp Sandbox: whatsapp:+14155238886

======================================================================
  WEBHOOK CONFIGURATION
======================================================================
Base URL: https://vani.ngrok.app


======================================================================
  CONFIGURING RESEND WEBHOOK
======================================================================
Webhook URL: https://vani.ngrok.app/api/webhooks/resend
API Key: re_i1Q5Bpx...vn6C
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.resend.com:443
[DEBUG] urllib3.connectionpool: https://api.resend.com:443 "GET /domains HTTP/1.1" 200 None
‚úÖ API key validated successfully
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.resend.com:443
[DEBUG] urllib3.connectionpool: https://api.resend.com:443 "GET /webhooks HTTP/1.1" 200 None

Found 1 existing webhook(s)

Creating new webhook...
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.resend.com:443
[DEBUG] urllib3.connectionpool: https://api.resend.com:443 "POST /webhooks HTTP/1.1" 422 88
‚ùå Failed to create webhook: {"statusCode":422,"message":"Missing `endpoint` field.","name":"missing_required_field"}

======================================================================
  CONFIGURING TWILIO WEBHOOK
======================================================================
Webhook URL: https://vani.ngrok.app/api/webhooks/twilio
WhatsApp Number: 14155238886
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.twilio.com:443
[DEBUG] urllib3.connectionpool: https://api.twilio.com:443 "GET /2010-04-01/Accounts/AC0b78d044fe00fd25de302451b277571d/IncomingPhoneNumbers.json HTTP/1.1" 401 107
‚ùå Failed to fetch phone numbers: {"code":20003,"message":"Authenticate","more_info":"https://www.twilio.com/docs/errors/20003","status":401}

======================================================================
  CONFIGURING CAL.COM WEBHOOK
======================================================================
Webhook URL: https://vani.ngrok.app/api/webhooks/cal-com
‚úÖ Using Cal.com v1 API (Bearer token)
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.cal.com:443
[DEBUG] urllib3.connectionpool: https://api.cal.com:443 "GET /v1/webhooks HTTP/1.1" 401 32
‚ö†Ô∏è  Could not list webhooks: {"message":"No apiKey provided"}

Creating new webhook...
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.cal.com:443
[DEBUG] urllib3.connectionpool: https://api.cal.com:443 "POST /v1/webhooks HTTP/1.1" 401 32
‚ùå Failed to create webhook: {"message":"No apiKey provided"}

======================================================================
  SUMMARY
======================================================================
‚ùå RESEND          - failed
   Error: {"statusCode":422,"message":"Missing `endpoint` field.","name":"missing_required_field"}
‚ùå TWILIO          - failed
   Error: Could not fetch phone numbers
‚ùå CAL_COM         - failed
   Error: {"message":"No apiKey provided"}

‚úÖ Configured: 0/3 services
  [!] Webhooks partially configured (0/3)
      Run 'python scripts/configure_webhooks.py' for details

  [*] Configuring Supabase OAuth URLs...

======================================================================
  CONFIGURING SUPABASE OAUTH URLS
======================================================================
Project: rkntrsprfcypwikshvsf
App URL: https://vani.ngrok.app

üìã Redirect URLs to configure:
   1. http://localhost:5000
   2. http://localhost:5000/command-center
   3. http://localhost:5000/login
   4. https://vani.ngrok.app
   5. https://vani.ngrok.app/api/auth/callback
   6. https://vani.ngrok.app/command-center
   7. https://vani.ngrok.app/login

[*] Attempting to update via Supabase Management API...
   Using SUPABASE_ACCESS_TOKEN from: .env.local
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.supabase.com:443
[DEBUG] urllib3.connectionpool: https://api.supabase.com:443 "PATCH /v1/projects/rkntrsprfcypwikshvsf/config/auth HTTP/1.1" 200 None
‚úÖ Successfully updated via Management API!
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): localhost:4040
[DEBUG] urllib3.connectionpool: http://localhost:4040 "GET /api/tunnels HTTP/1.1" 200 415

======================================================================
  SERVER STATUS
======================================================================

Local URL:        http://127.0.0.1:5000
Command Center:   http://127.0.0.1:5000/command-center

‚úÖ PUBLIC URL (Ngrok): https://vani.ngrok.app
   Command Center:     https://vani.ngrok.app/command-center

üìã Webhook Endpoints:
   Resend:    https://vani.ngrok.app/api/webhooks/resend
   Twilio:    https://vani.ngrok.app/api/webhooks/twilio
   Cal.com:   https://vani.ngrok.app/api/webhooks/cal-com

üí° Tip: Webhooks are auto-configured when ngrok is detected.
   To reconfigure manually: python scripts/configure_webhooks.py

======================================================================
  ‚úÖ SERVER RUNNING
======================================================================

Press Ctrl+C to stop the server

[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:31:33] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:31:36] "GET /static/css/tailwind.css HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:31:41] "GET /favicon.ico HTTP/1.1" 404 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:31:48] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:31:49] "GET /static/css/tailwind.css HTTP/1.1" 304 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:31:57] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:31:58] "GET /static/css/tailwind.css HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:31:59] "GET /favicon.ico HTTP/1.1" 404 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:32:13] "GET /static/css/tailwind.css HTTP/1.1" 304 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:32:27] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:32:28] "GET /static/css/tailwind.css HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:32:29] "GET /favicon.ico HTTP/1.1" 404 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:35:24] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:35:25] "GET /static/css/tailwind.css HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:35:28] "GET /favicon.ico HTTP/1.1" 404 -
[INFO] app.api.auth: Session check for user raaj007@gmail.com: is_super_user=True, token_present=True
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:35:28] "GET /api/auth/session HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:35:28] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1, offset=0
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.api.companies: Found 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:35:31] "GET /api/meetings HTTP/1.1" 200 -
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:35:31] "GET /api/targets HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:35:31] "GET /api/companies?limit=1 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:35:32] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] app.api.contacts: Contacts API: Returning 1 contacts (total: 2003), 0 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:35:32] "GET /api/contacts?limit=1 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.api.companies: Found 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:35:34] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:35:40] "GET /api/dashboard/stats HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:35:55] "GET /api/companies HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies/d6733aeb-3797-491f-a989-4842b3158c2e
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:36:01] "GET /api/companies/d6733aeb-3797-491f-a989-4842b3158c2e HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:36:43] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:36:43] "GET /static/css/tailwind.css HTTP/1.1" 304 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] app.api.auth: Session check for user raaj007@gmail.com: is_super_user=True, token_present=True
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:36:46] "GET /api/auth/session HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:36:46] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:36:48] "GET /api/targets HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:36:48] "GET /api/meetings HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1, offset=0
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.api.companies: Found 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:36:48] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:36:48] "GET /api/companies?limit=1 HTTP/1.1" 200 -
[INFO] app.api.contacts: Contacts API: Returning 1 contacts (total: 2003), 0 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:36:48] "GET /api/contacts?limit=1 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:36:51] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.auth: require_auth: Validating token for /api/auth/users
[DEBUG] app.api.companies: Found 100 companies
[INFO] app.api.contacts: Contacts API: Returning 1000 contacts (total: 2003), 943 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:36:54] "GET /api/contacts HTTP/1.1" 200 -
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.api.auth: list_users: Fetching users for super user raaj007@gmail.com
[INFO] app.api.auth: list_users: Returning 5 users
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:36:54] "GET /api/auth/users HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:36:56] "GET /api/dashboard/stats HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:36:56] "GET /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1000, offset=0
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:36:56] "GET /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:36:56] "GET /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:36:56] "GET /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:36:56] "GET /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba HTTP/1.1" 200 -
[DEBUG] app.api.companies: Found 1000 companies
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:37:15] "GET /api/companies HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:37:24] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/users
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.api.auth: list_users: Fetching users for super user raaj007@gmail.com
[INFO] app.api.auth: list_users: Returning 5 users
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:38:42] "GET /api/auth/users HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:38:44] "GET /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:38:44] "GET /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:38:44] "GET /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:38:44] "GET /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:38:44] "GET /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34 HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1000 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:40:22] "GET /api/companies?limit=1000 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:41:49] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:41:52] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:41:57] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:43:56] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:43:57] "GET /static/css/tailwind.css HTTP/1.1" 304 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] app.api.auth: Session check for user raaj007@gmail.com: is_super_user=True, token_present=True
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:43:58] "GET /api/auth/session HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:43:59] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1, offset=0
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:00] "GET /api/meetings HTTP/1.1" 200 -
[DEBUG] app.api.companies: Found 1 companies
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:00] "GET /api/targets HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] app.api.companies: Successfully listed 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:00] "GET /api/companies?limit=1 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:00] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] app.api.contacts: Contacts API: Returning 1 contacts (total: 2003), 0 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:00] "GET /api/contacts?limit=1 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/users
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.api.auth: list_users: Fetching users for super user raaj007@gmail.com
[INFO] app.api.auth: list_users: Returning 5 users
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:04] "GET /api/auth/users HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:04] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:05] "GET /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:05] "GET /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:06] "GET /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:06] "GET /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:06] "GET /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:09] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:13] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:14] "GET /static/css/tailwind.css HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:16] "GET /favicon.ico HTTP/1.1" 404 -
[INFO] app.api.auth: Session check for user raaj007@gmail.com: is_super_user=True, token_present=True
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:16] "GET /api/auth/session HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:16] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1, offset=0
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:18] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[DEBUG] app.api.companies: Found 1 companies
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:18] "GET /api/targets HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] app.api.companies: Successfully listed 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:18] "GET /api/companies?limit=1 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:18] "GET /api/meetings HTTP/1.1" 200 -
[INFO] app.api.contacts: Contacts API: Returning 1 contacts (total: 2003), 0 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:18] "GET /api/contacts?limit=1 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/users
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.api.auth: list_users: Fetching users for super user raaj007@gmail.com
[INFO] app.api.auth: list_users: Returning 5 users
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:19] "GET /api/auth/users HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:21] "GET /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:21] "GET /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:21] "GET /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:21] "GET /api/dashboard/stats HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:21] "GET /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:21] "GET /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:24] "GET /static/css/tailwind.css HTTP/1.1" 304 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:26] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:30] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/users
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.api.auth: list_users: Fetching users for super user raaj007@gmail.com
[INFO] app.api.auth: list_users: Returning 5 users
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:32] "GET /api/auth/users HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:34] "GET /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001 HTTP/1.1" 200 -
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:35] "GET /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:35] "GET /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:35] "GET /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:35] "GET /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:41] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/users
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.api.auth: list_users: Fetching users for super user raaj007@gmail.com
[INFO] app.api.auth: list_users: Returning 5 users
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:42] "GET /api/auth/users HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:44] "GET /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:44] "GET /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:44] "GET /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:44] "GET /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:44:44] "GET /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816 HTTP/1.1" 200 -


[STOP] Server stopped by user
  Stopping Flask server...
  Stopping ngrok...
  [OK] Ngrok stopped

[OK] Cleanup complete. Exiting...

Terminate batch job (Y/N)? y

(venv) C:\Raaj\kcube_consulting_labs\vani>vani
========================================
  VANI - Virtual Agent Network Interface
========================================

[1/2] Activating virtual environment...
[OK] Virtual environment activated

[2/2] Checking dependencies...
Starting VANI application...


======================================================================
  VANI OUTREACH COMMAND CENTER - STARTUP
======================================================================

[0/5] Cleaning up existing processes...
  [OK] Killed ngrok processes

[1/5] Checking environment variables...
  [OK] SUPABASE_URL              = https://rkntrsprfcypwikshvsf.supabase.co
  [OK] SUPABASE_KEY              = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJrbnRyc3ByZmN5cHdpa3NodnNmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwNjEzMDcsImV4cCI6MjA4MDYzNzMwN30.ilGFLUQAqg6wIgj5Akf00raVdB0WkjfLXQX1z3L2w40
  [OK] SUPABASE_SERVICE_KEY      = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJrbnRyc3ByZmN5cHdpa3NodnNmIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NTA2MTMwNywiZXhwIjoyMDgwNjM3MzA3fQ.tFQdXZ_XEK85TS9dW0GPFIdNHKNDMPv0hUcizdS0SMs
  [OK] RESEND_API_KEY            = re_i1Q5BpxP_13otSmqXwbzFbNh3XYcLvn6C
  [OK] TWILIO_ACCOUNT_SID        = AC0b78d044fe00fd25de302451b277571d
  [OK] TWILIO_AUTH_TOKEN         = 2yXFVI3f7lkNmrDnHC8WJl5Jk8CYQCIj
  [OK] OPENAI_API_KEY            = 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
  [OK] RAG_API_KEY               = 27e887d021a49654a0a703688cb139cdf652dfec795009a5afb8e9556c49b181
  [OK] RAG_SERVICE_URL           = https://rag.kcube-consulting.com
  [OK] GEMINI_API_KEY            = AIzaSyAgehj_KDtxFC-rt0yGV7qZE6q9TSqTZxY
  [OK] SUPABASE_ACCESS_TOKEN     = sbp_c18882db5dcfc73fbd054a609354b2139a773df0
  [OK] TWILIO_SANDBOX_WHATSAPP_NUMBER = whatsapp:+14155238886
  [OK] TWILIO_WHATSAPP_NUMBER    = whatsapp:+15513216580
  [OK] TWILIO_PHONE_NUMBER       = +13253997829
  [OK] TWILIO_SANDBOX_WHATSAPP_NUMBER = whatsapp:+14155238886
  [OK] TWILIO_WHATSAPP_NUMBER    = whatsapp:+15513216580
  [OK] TWILIO_PHONE_NUMBER       = +13253997829

[AI] AI Target Finder Feature Status:
  [OK] OpenAI API configured - Basic AI features available
  [OK] Enhanced features available:
       - RAG-enhanced contact analysis
       - Gemini/Notebook LM integration
  [‚úì] Full AI Target Finder capabilities available!
[OK] All required environment variables are set

[2/5] Checking database connection...
  [OK] Database connected - Tables accessible
[3/5] Checking ngrok tunnel...
  [!] Ngrok not running (webhooks won't work)
      Start with: .\scripts\start_ngrok.ps1
      Or set WEBHOOK_BASE_URL in .env.local for manual configuration
    Expected URL: https://vani.ngrok.app
    [!] Will start ngrok after Flask starts

[4/5] Starting Flask application...

======================================================================
  FLASK SERVER STARTING
======================================================================

Local URL:        http://127.0.0.1:5000
Command Center:   http://127.0.0.1:5000/command-center

[5/5] Waiting for Flask to start, then starting ngrok...
  Verifying Flask is listening on port...
[INFO] app.supabase_client: Supabase client initialized successfully
[INFO] app.auth: Supabase Auth client initialized
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): localhost:5000
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:45:36] "GET / HTTP/1.1" 302 -
[DEBUG] urllib3.connectionpool: http://localhost:5000 "GET / HTTP/1.1" 302 199
[DEBUG] urllib3.connectionpool: Resetting dropped connection: localhost
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:45:38] "GET /login HTTP/1.1" 200 -
[DEBUG] urllib3.connectionpool: http://localhost:5000 "GET /login HTTP/1.1" 200 11859
  [OK] Flask is accessible on localhost:5000
  [OK] Flask is ready!

Starting ngrok tunnel...
  Verifying Flask is accessible on port 5000...
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): 127.0.0.1:5000
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:45:40] "GET / HTTP/1.1" 302 -
[DEBUG] urllib3.connectionpool: http://127.0.0.1:5000 "GET / HTTP/1.1" 302 199
[DEBUG] urllib3.connectionpool: Resetting dropped connection: 127.0.0.1
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:45:40] "GET /login HTTP/1.1" 200 -
[DEBUG] urllib3.connectionpool: http://127.0.0.1:5000 "GET /login HTTP/1.1" 200 11859
  [OK] Flask accessible on 127.0.0.1:5000
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): localhost:4040
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): localhost:4040
[DEBUG] urllib3.connectionpool: http://localhost:4040 "GET /api/tunnels HTTP/1.1" 200 415

  [*] Configuring webhooks with ngrok URL...
Using WhatsApp Sandbox: whatsapp:+14155238886

======================================================================
  WEBHOOK CONFIGURATION
======================================================================
Base URL: https://vani.ngrok.app


======================================================================
  CONFIGURING RESEND WEBHOOK
======================================================================
Webhook URL: https://vani.ngrok.app/api/webhooks/resend
API Key: re_i1Q5Bpx...vn6C
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.resend.com:443
[DEBUG] urllib3.connectionpool: https://api.resend.com:443 "GET /domains HTTP/1.1" 200 None
‚úÖ API key validated successfully
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.resend.com:443
[DEBUG] urllib3.connectionpool: https://api.resend.com:443 "GET /webhooks HTTP/1.1" 200 None

Found 1 existing webhook(s)

Creating new webhook...
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.resend.com:443
[DEBUG] urllib3.connectionpool: https://api.resend.com:443 "POST /webhooks HTTP/1.1" 422 88
‚ùå Failed to create webhook: {"statusCode":422,"message":"Missing `endpoint` field.","name":"missing_required_field"}

======================================================================
  CONFIGURING TWILIO WEBHOOK
======================================================================
Webhook URL: https://vani.ngrok.app/api/webhooks/twilio
WhatsApp Number: 14155238886
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.twilio.com:443
[DEBUG] urllib3.connectionpool: https://api.twilio.com:443 "GET /2010-04-01/Accounts/AC0b78d044fe00fd25de302451b277571d/IncomingPhoneNumbers.json HTTP/1.1" 401 107
‚ùå Failed to fetch phone numbers: {"code":20003,"message":"Authenticate","more_info":"https://www.twilio.com/docs/errors/20003","status":401}

======================================================================
  CONFIGURING CAL.COM WEBHOOK
======================================================================
Webhook URL: https://vani.ngrok.app/api/webhooks/cal-com
‚úÖ Using Cal.com v1 API (Bearer token)
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.cal.com:443
[DEBUG] urllib3.connectionpool: https://api.cal.com:443 "GET /v1/webhooks HTTP/1.1" 401 32
‚ö†Ô∏è  Could not list webhooks: {"message":"No apiKey provided"}

Creating new webhook...
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.cal.com:443
[DEBUG] urllib3.connectionpool: https://api.cal.com:443 "POST /v1/webhooks HTTP/1.1" 401 32
‚ùå Failed to create webhook: {"message":"No apiKey provided"}

======================================================================
  SUMMARY
======================================================================
‚ùå RESEND          - failed
   Error: {"statusCode":422,"message":"Missing `endpoint` field.","name":"missing_required_field"}
‚ùå TWILIO          - failed
   Error: Could not fetch phone numbers
‚ùå CAL_COM         - failed
   Error: {"message":"No apiKey provided"}

‚úÖ Configured: 0/3 services
  [!] Webhooks partially configured (0/3)
      Run 'python scripts/configure_webhooks.py' for details

  [*] Configuring Supabase OAuth URLs...

======================================================================
  CONFIGURING SUPABASE OAUTH URLS
======================================================================
Project: rkntrsprfcypwikshvsf
App URL: https://vani.ngrok.app

üìã Redirect URLs to configure:
   1. http://localhost:5000
   2. http://localhost:5000/command-center
   3. http://localhost:5000/login
   4. https://vani.ngrok.app
   5. https://vani.ngrok.app/api/auth/callback
   6. https://vani.ngrok.app/command-center
   7. https://vani.ngrok.app/login

[*] Attempting to update via Supabase Management API...
   Using SUPABASE_ACCESS_TOKEN from: .env.local
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.supabase.com:443
[DEBUG] urllib3.connectionpool: https://api.supabase.com:443 "PATCH /v1/projects/rkntrsprfcypwikshvsf/config/auth HTTP/1.1" 200 None
‚úÖ Successfully updated via Management API!
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): localhost:4040
[DEBUG] urllib3.connectionpool: http://localhost:4040 "GET /api/tunnels HTTP/1.1" 200 415

======================================================================
  SERVER STATUS
======================================================================

Local URL:        http://127.0.0.1:5000
Command Center:   http://127.0.0.1:5000/command-center

‚úÖ PUBLIC URL (Ngrok): https://vani.ngrok.app
   Command Center:     https://vani.ngrok.app/command-center

üìã Webhook Endpoints:
   Resend:    https://vani.ngrok.app/api/webhooks/resend
   Twilio:    https://vani.ngrok.app/api/webhooks/twilio
   Cal.com:   https://vani.ngrok.app/api/webhooks/cal-com

üí° Tip: Webhooks are auto-configured when ngrok is detected.
   To reconfigure manually: python scripts/configure_webhooks.py

======================================================================
  ‚úÖ SERVER RUNNING
======================================================================

Press Ctrl+C to stop the server

[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:09] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:12] "GET /static/css/tailwind.css HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:21] "GET /favicon.ico HTTP/1.1" 404 -
[INFO] app.api.auth: Session check for user raaj007@gmail.com: is_super_user=True, token_present=True
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:21] "GET /api/auth/session HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:21] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1, offset=0
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.api.companies: Found 1 companies
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[INFO] app.api.companies: Successfully listed 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:23] "GET /api/companies?limit=1 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:24] "GET /api/meetings HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:24] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:24] "GET /api/targets HTTP/1.1" 200 -
[INFO] app.api.contacts: Contacts API: Returning 1 contacts (total: 2003), 0 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:24] "GET /api/contacts?limit=1 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/users
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.api.auth: list_users: Fetching users for super user raaj007@gmail.com
[INFO] app.api.auth: list_users: Returning 5 users
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:25] "GET /api/auth/users HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:27] "GET /api/dashboard/stats HTTP/1.1" 200 -
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:27] "GET /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:27] "GET /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:28] "GET /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:28] "GET /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:28] "GET /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:32] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:33] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:34] "GET /static/css/tailwind.css HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:36] "GET /favicon.ico HTTP/1.1" 404 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:36] "GET /api/industries HTTP/1.1" 200 -
[INFO] app.api.auth: Session check for user raaj007@gmail.com: is_super_user=True, token_present=True
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:37] "GET /api/auth/session HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1, offset=0
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.companies: Found 1 companies
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:38] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:38] "GET /api/targets HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:38] "GET /api/meetings HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] app.api.companies: Successfully listed 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:38] "GET /api/companies?limit=1 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/users
[INFO] app.api.contacts: Contacts API: Returning 1 contacts (total: 2003), 0 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:39] "GET /api/contacts?limit=1 HTTP/1.1" 200 -
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.api.auth: list_users: Fetching users for super user raaj007@gmail.com
[INFO] app.api.auth: list_users: Returning 5 users
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:40] "GET /api/auth/users HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:41] "GET /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:42] "GET /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d HTTP/1.1" 200 -
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:42] "GET /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:42] "GET /api/dashboard/stats HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:42] "GET /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:42] "GET /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:44] "GET /static/css/tailwind.css HTTP/1.1" 304 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:47] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:49] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/users
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.api.auth: list_users: Fetching users for super user raaj007@gmail.com
[INFO] app.api.auth: list_users: Returning 5 users
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:51] "GET /api/auth/users HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:53] "GET /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:53] "GET /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:53] "GET /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:53] "GET /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:46:53] "GET /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:51:47] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:51:50] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:51:55] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:52:14] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:52:16] "GET /static/css/tailwind.css HTTP/1.1" 304 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:52:18] "GET /api/industries HTTP/1.1" 200 -
[INFO] app.api.auth: Session check for user raaj007@gmail.com: is_super_user=True, token_present=True
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:52:19] "GET /api/auth/session HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_auth: Validating token for /api/auth/users
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1, offset=0
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.api.companies: Found 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:52:21] "GET /api/meetings HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:52:21] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] app.api.contacts: Contacts API: Returning 1 contacts (total: 2003), 0 with emails
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:52:21] "GET /api/contacts?limit=1 HTTP/1.1" 200 -
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:52:21] "GET /api/targets HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:52:21] "GET /api/companies?limit=1 HTTP/1.1" 200 -
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.api.auth: list_users: Fetching users for super user raaj007@gmail.com
[INFO] app.api.auth: list_users: Returning 5 users
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:52:21] "GET /api/auth/users HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:52:23] "GET /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d HTTP/1.1" 200 -
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:52:23] "GET /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:52:23] "GET /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:52:23] "GET /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:52:23] "GET /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:52:24] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] app.api.contacts: Contacts API: Returning 1000 contacts (total: 2003), 943 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:52:25] "GET /api/contacts HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1000, offset=0
[DEBUG] app.api.companies: Found 1000 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:52:29] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[INFO] app.api.contacts: Contacts API: Returning 1000 contacts (total: 2003), 943 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:53:03] "GET /api/contacts HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/signatures
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:53:14] "GET /api/signatures HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.api.companies: Found 100 companies
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1000, offset=0
[DEBUG] app.api.companies: Found 1000 companies
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:53:44] "GET /api/companies HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/signatures
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:53:45] "GET /api/signatures HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.api.companies: Found 100 companies
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[INFO] app.api.contacts: Contacts API: Returning 1000 contacts (total: 2003), 943 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:53:47] "GET /api/contacts HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/users
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.api.auth: list_users: Fetching users for super user raaj007@gmail.com
[INFO] app.api.auth: list_users: Returning 5 users
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:53:50] "GET /api/auth/users HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:53:52] "GET /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/signatures
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:53:52] "GET /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:53:52] "GET /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:53:52] "GET /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:53:52] "GET /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:53:53] "GET /api/signatures HTTP/1.1" 200 -
[INFO] app.api.contacts: Contacts API: Returning 1000 contacts (total: 2003), 943 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:53:53] "GET /api/contacts HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.api.companies: Found 100 companies
[DEBUG] app.auth: require_auth: Validating token for /api/signatures
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:54:06] "GET /api/companies HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:54:06] "GET /api/signatures HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.api.companies: Found 100 companies
[DEBUG] app.auth: require_auth: Validating token for /api/auth/users
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.api.auth: list_users: Fetching users for super user raaj007@gmail.com
[INFO] app.api.contacts: Contacts API: Returning 1000 contacts (total: 2003), 943 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:54:09] "GET /api/contacts HTTP/1.1" 200 -
[INFO] app.api.auth: list_users: Returning 5 users
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:54:09] "GET /api/auth/users HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1000, offset=0
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[DEBUG] app.auth: require_auth: Validating token for /api/signatures
[DEBUG] app.api.companies: Found 1000 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:54:11] "GET /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:54:11] "GET /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:54:11] "GET /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:54:11] "GET /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:54:11] "GET /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:54:11] "GET /api/signatures HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1000, offset=0
[DEBUG] app.api.companies: Found 1000 companies
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[INFO] app.api.contacts: Contacts API: Returning 1000 contacts (total: 2003), 943 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:54:22] "GET /api/contacts HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.api.companies: Found 100 companies
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:54:22] "GET /api/companies HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:54:28] "GET /api/companies HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.api.companies: Found 100 companies
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1000, offset=0
[DEBUG] app.api.companies: Found 1000 companies
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1000, offset=0
[DEBUG] app.api.companies: Found 1000 companies
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:54:47] "GET /api/companies HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:54:53] "GET /api/companies HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1000 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:55:53] "GET /api/companies?limit=1000 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.api.companies: Found 100 companies
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:56:28] "GET /api/companies HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1000 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:56:54] "GET /api/companies?limit=1000 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:57:21] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:57:25] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:57:30] "GET /api/dashboard/stats HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1000 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:57:38] "GET /api/companies?limit=1000 HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1000 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:57:41] "GET /api/companies?limit=1000 HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1000 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:57:56] "GET /api/companies?limit=1000 HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1000 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 15:58:07] "GET /api/companies?limit=1000 HTTP/1.1" 200 -


[STOP] Server stopped by user
  Stopping Flask server...
  Stopping ngrok...
  [OK] Ngrok stopped

[OK] Cleanup complete. Exiting...

Terminate batch job (Y/N)? y

(venv) C:\Raaj\kcube_consulting_labs\vani>vani
========================================
  VANI - Virtual Agent Network Interface
========================================

[1/2] Activating virtual environment...
[OK] Virtual environment activated

[2/2] Checking dependencies...
Starting VANI application...


======================================================================
  VANI OUTREACH COMMAND CENTER - STARTUP
======================================================================

[0/5] Cleaning up existing processes...
  [OK] Killed ngrok processes

[1/5] Checking environment variables...
  [OK] SUPABASE_URL              = https://rkntrsprfcypwikshvsf.supabase.co
  [OK] SUPABASE_KEY              = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJrbnRyc3ByZmN5cHdpa3NodnNmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwNjEzMDcsImV4cCI6MjA4MDYzNzMwN30.ilGFLUQAqg6wIgj5Akf00raVdB0WkjfLXQX1z3L2w40
  [OK] SUPABASE_SERVICE_KEY      = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJrbnRyc3ByZmN5cHdpa3NodnNmIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NTA2MTMwNywiZXhwIjoyMDgwNjM3MzA3fQ.tFQdXZ_XEK85TS9dW0GPFIdNHKNDMPv0hUcizdS0SMs
  [OK] RESEND_API_KEY            = re_i1Q5BpxP_13otSmqXwbzFbNh3XYcLvn6C
  [OK] TWILIO_ACCOUNT_SID        = AC0b78d044fe00fd25de302451b277571d
  [OK] TWILIO_AUTH_TOKEN         = 2yXFVI3f7lkNmrDnHC8WJl5Jk8CYQCIj
  [OK] OPENAI_API_KEY            = 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
  [OK] RAG_API_KEY               = 27e887d021a49654a0a703688cb139cdf652dfec795009a5afb8e9556c49b181
  [OK] RAG_SERVICE_URL           = https://rag.kcube-consulting.com
  [OK] GEMINI_API_KEY            = AIzaSyAgehj_KDtxFC-rt0yGV7qZE6q9TSqTZxY
  [OK] SUPABASE_ACCESS_TOKEN     = sbp_c18882db5dcfc73fbd054a609354b2139a773df0
  [OK] TWILIO_SANDBOX_WHATSAPP_NUMBER = whatsapp:+14155238886
  [OK] TWILIO_WHATSAPP_NUMBER    = whatsapp:+15513216580
  [OK] TWILIO_PHONE_NUMBER       = +13253997829
  [OK] TWILIO_SANDBOX_WHATSAPP_NUMBER = whatsapp:+14155238886
  [OK] TWILIO_WHATSAPP_NUMBER    = whatsapp:+15513216580
  [OK] TWILIO_PHONE_NUMBER       = +13253997829

[AI] AI Target Finder Feature Status:
  [OK] OpenAI API configured - Basic AI features available
  [OK] Enhanced features available:
       - RAG-enhanced contact analysis
       - Gemini/Notebook LM integration
  [‚úì] Full AI Target Finder capabilities available!
[OK] All required environment variables are set

[2/5] Checking database connection...
  [OK] Database connected - Tables accessible
[3/5] Checking ngrok tunnel...
  [!] Ngrok not running (webhooks won't work)
      Start with: .\scripts\start_ngrok.ps1
      Or set WEBHOOK_BASE_URL in .env.local for manual configuration
    Expected URL: https://vani.ngrok.app
    [!] Will start ngrok after Flask starts

[4/5] Starting Flask application...

======================================================================
  FLASK SERVER STARTING
======================================================================

Local URL:        http://127.0.0.1:5000
Command Center:   http://127.0.0.1:5000/command-center

[5/5] Waiting for Flask to start, then starting ngrok...
  Verifying Flask is listening on port...
[INFO] app.supabase_client: Supabase client initialized successfully
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): localhost:5000
[INFO] app.auth: Supabase Auth client initialized
  Waiting for Flask... (1/20)
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): 127.0.0.1:5000
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:00:57] "GET / HTTP/1.1" 302 -
[DEBUG] urllib3.connectionpool: http://127.0.0.1:5000 "GET / HTTP/1.1" 302 199
[DEBUG] urllib3.connectionpool: Resetting dropped connection: 127.0.0.1
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:00:57] "GET /login HTTP/1.1" 200 -
[DEBUG] urllib3.connectionpool: http://127.0.0.1:5000 "GET /login HTTP/1.1" 200 11859
  [OK] Flask is accessible on 127.0.0.1:5000
  [OK] Flask is ready!

Starting ngrok tunnel...
  Verifying Flask is accessible on port 5000...
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): 127.0.0.1:5000
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:00:59] "GET / HTTP/1.1" 302 -
[DEBUG] urllib3.connectionpool: http://127.0.0.1:5000 "GET / HTTP/1.1" 302 199
[DEBUG] urllib3.connectionpool: Resetting dropped connection: 127.0.0.1
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:00:59] "GET /login HTTP/1.1" 200 -
[DEBUG] urllib3.connectionpool: http://127.0.0.1:5000 "GET /login HTTP/1.1" 200 11859
  [OK] Flask accessible on 127.0.0.1:5000
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): localhost:4040
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): localhost:4040
[DEBUG] urllib3.connectionpool: http://localhost:4040 "GET /api/tunnels HTTP/1.1" 200 415

  [*] Configuring webhooks with ngrok URL...
Using WhatsApp Sandbox: whatsapp:+14155238886

======================================================================
  WEBHOOK CONFIGURATION
======================================================================
Base URL: https://vani.ngrok.app


======================================================================
  CONFIGURING RESEND WEBHOOK
======================================================================
Webhook URL: https://vani.ngrok.app/api/webhooks/resend
API Key: re_i1Q5Bpx...vn6C
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.resend.com:443
[DEBUG] urllib3.connectionpool: https://api.resend.com:443 "GET /domains HTTP/1.1" 200 None
‚úÖ API key validated successfully
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.resend.com:443
[DEBUG] urllib3.connectionpool: https://api.resend.com:443 "GET /webhooks HTTP/1.1" 200 None

Found 1 existing webhook(s)

Creating new webhook...
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.resend.com:443
[DEBUG] urllib3.connectionpool: https://api.resend.com:443 "POST /webhooks HTTP/1.1" 422 88
‚ùå Failed to create webhook: {"statusCode":422,"message":"Missing `endpoint` field.","name":"missing_required_field"}

======================================================================
  CONFIGURING TWILIO WEBHOOK
======================================================================
Webhook URL: https://vani.ngrok.app/api/webhooks/twilio
WhatsApp Number: 14155238886
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.twilio.com:443
[DEBUG] urllib3.connectionpool: https://api.twilio.com:443 "GET /2010-04-01/Accounts/AC0b78d044fe00fd25de302451b277571d/IncomingPhoneNumbers.json HTTP/1.1" 401 107
‚ùå Failed to fetch phone numbers: {"code":20003,"message":"Authenticate","more_info":"https://www.twilio.com/docs/errors/20003","status":401}

======================================================================
  CONFIGURING CAL.COM WEBHOOK
======================================================================
Webhook URL: https://vani.ngrok.app/api/webhooks/cal-com
‚úÖ Using Cal.com v1 API (Bearer token)
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.cal.com:443
[DEBUG] urllib3.connectionpool: https://api.cal.com:443 "GET /v1/webhooks HTTP/1.1" 401 32
‚ö†Ô∏è  Could not list webhooks: {"message":"No apiKey provided"}

Creating new webhook...
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.cal.com:443
[DEBUG] urllib3.connectionpool: https://api.cal.com:443 "POST /v1/webhooks HTTP/1.1" 401 32
‚ùå Failed to create webhook: {"message":"No apiKey provided"}

======================================================================
  SUMMARY
======================================================================
‚ùå RESEND          - failed
   Error: {"statusCode":422,"message":"Missing `endpoint` field.","name":"missing_required_field"}
‚ùå TWILIO          - failed
   Error: Could not fetch phone numbers
‚ùå CAL_COM         - failed
   Error: {"message":"No apiKey provided"}

‚úÖ Configured: 0/3 services
  [!] Webhooks partially configured (0/3)
      Run 'python scripts/configure_webhooks.py' for details

  [*] Configuring Supabase OAuth URLs...

======================================================================
  CONFIGURING SUPABASE OAUTH URLS
======================================================================
Project: rkntrsprfcypwikshvsf
App URL: https://vani.ngrok.app

üìã Redirect URLs to configure:
   1. http://localhost:5000
   2. http://localhost:5000/command-center
   3. http://localhost:5000/login
   4. https://vani.ngrok.app
   5. https://vani.ngrok.app/api/auth/callback
   6. https://vani.ngrok.app/command-center
   7. https://vani.ngrok.app/login

[*] Attempting to update via Supabase Management API...
   Using SUPABASE_ACCESS_TOKEN from: .env.local
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.supabase.com:443
[DEBUG] urllib3.connectionpool: https://api.supabase.com:443 "PATCH /v1/projects/rkntrsprfcypwikshvsf/config/auth HTTP/1.1" 200 None
‚úÖ Successfully updated via Management API!
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): localhost:4040
[DEBUG] urllib3.connectionpool: http://localhost:4040 "GET /api/tunnels HTTP/1.1" 200 415

======================================================================
  SERVER STATUS
======================================================================

Local URL:        http://127.0.0.1:5000
Command Center:   http://127.0.0.1:5000/command-center

‚úÖ PUBLIC URL (Ngrok): https://vani.ngrok.app
   Command Center:     https://vani.ngrok.app/command-center

üìã Webhook Endpoints:
   Resend:    https://vani.ngrok.app/api/webhooks/resend
   Twilio:    https://vani.ngrok.app/api/webhooks/twilio
   Cal.com:   https://vani.ngrok.app/api/webhooks/cal-com

üí° Tip: Webhooks are auto-configured when ngrok is detected.
   To reconfigure manually: python scripts/configure_webhooks.py

======================================================================
  ‚úÖ SERVER RUNNING
======================================================================

Press Ctrl+C to stop the server

[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:02:33] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:02:37] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:02:43] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:07:22] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:07:25] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:07:33] "GET /api/dashboard/stats HTTP/1.1" 200 -


[STOP] Server stopped by user
  Stopping Flask server...
  Stopping ngrok...
  [OK] Ngrok stopped

[OK] Cleanup complete. Exiting...

Terminate batch job (Y/N)? y

(venv) C:\Raaj\kcube_consulting_labs\vani>vani
========================================
  VANI - Virtual Agent Network Interface
========================================

[1/2] Activating virtual environment...
[OK] Virtual environment activated

[2/2] Checking dependencies...
Starting VANI application...


======================================================================
  VANI OUTREACH COMMAND CENTER - STARTUP
======================================================================

[0/5] Cleaning up existing processes...
  [OK] Killed ngrok processes

[1/5] Checking environment variables...
  [OK] SUPABASE_URL              = https://rkntrsprfcypwikshvsf.supabase.co
  [OK] SUPABASE_KEY              = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJrbnRyc3ByZmN5cHdpa3NodnNmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwNjEzMDcsImV4cCI6MjA4MDYzNzMwN30.ilGFLUQAqg6wIgj5Akf00raVdB0WkjfLXQX1z3L2w40
  [OK] SUPABASE_SERVICE_KEY      = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJrbnRyc3ByZmN5cHdpa3NodnNmIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NTA2MTMwNywiZXhwIjoyMDgwNjM3MzA3fQ.tFQdXZ_XEK85TS9dW0GPFIdNHKNDMPv0hUcizdS0SMs
  [OK] RESEND_API_KEY            = re_i1Q5BpxP_13otSmqXwbzFbNh3XYcLvn6C
  [OK] TWILIO_ACCOUNT_SID        = AC0b78d044fe00fd25de302451b277571d
  [OK] TWILIO_AUTH_TOKEN         = 2yXFVI3f7lkNmrDnHC8WJl5Jk8CYQCIj
  [OK] OPENAI_API_KEY            = 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
  [OK] RAG_API_KEY               = 27e887d021a49654a0a703688cb139cdf652dfec795009a5afb8e9556c49b181
  [OK] RAG_SERVICE_URL           = https://rag.kcube-consulting.com
  [OK] GEMINI_API_KEY            = AIzaSyAgehj_KDtxFC-rt0yGV7qZE6q9TSqTZxY
  [OK] SUPABASE_ACCESS_TOKEN     = sbp_c18882db5dcfc73fbd054a609354b2139a773df0
  [OK] TWILIO_SANDBOX_WHATSAPP_NUMBER = whatsapp:+14155238886
  [OK] TWILIO_WHATSAPP_NUMBER    = whatsapp:+15513216580
  [OK] TWILIO_PHONE_NUMBER       = +13253997829
  [OK] TWILIO_SANDBOX_WHATSAPP_NUMBER = whatsapp:+14155238886
  [OK] TWILIO_WHATSAPP_NUMBER    = whatsapp:+15513216580
  [OK] TWILIO_PHONE_NUMBER       = +13253997829

[AI] AI Target Finder Feature Status:
  [OK] OpenAI API configured - Basic AI features available
  [OK] Enhanced features available:
       - RAG-enhanced contact analysis
       - Gemini/Notebook LM integration
  [‚úì] Full AI Target Finder capabilities available!
[OK] All required environment variables are set

[2/5] Checking database connection...
  [OK] Database connected - Tables accessible
[3/5] Checking ngrok tunnel...
  [!] Ngrok not running (webhooks won't work)
      Start with: .\scripts\start_ngrok.ps1
      Or set WEBHOOK_BASE_URL in .env.local for manual configuration
    Expected URL: https://vani.ngrok.app
    [!] Will start ngrok after Flask starts

[4/5] Starting Flask application...

======================================================================
  FLASK SERVER STARTING
======================================================================

Local URL:        http://127.0.0.1:5000
Command Center:   http://127.0.0.1:5000/command-center

[5/5] Waiting for Flask to start, then starting ngrok...
  Verifying Flask is listening on port...
[INFO] app.supabase_client: Supabase client initialized successfully
[INFO] app.auth: Supabase Auth client initialized
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): localhost:5000
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:12:13] "GET / HTTP/1.1" 302 -
[DEBUG] urllib3.connectionpool: http://localhost:5000 "GET / HTTP/1.1" 302 199
[DEBUG] urllib3.connectionpool: Resetting dropped connection: localhost
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:12:15] "GET /login HTTP/1.1" 200 -
[DEBUG] urllib3.connectionpool: http://localhost:5000 "GET /login HTTP/1.1" 200 11859
  [OK] Flask is accessible on localhost:5000
  [OK] Flask is ready!

Starting ngrok tunnel...
  Verifying Flask is accessible on port 5000...
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): 127.0.0.1:5000
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:12:17] "GET / HTTP/1.1" 302 -
[DEBUG] urllib3.connectionpool: http://127.0.0.1:5000 "GET / HTTP/1.1" 302 199
[DEBUG] urllib3.connectionpool: Resetting dropped connection: 127.0.0.1
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:12:17] "GET /login HTTP/1.1" 200 -
[DEBUG] urllib3.connectionpool: http://127.0.0.1:5000 "GET /login HTTP/1.1" 200 11859
  [OK] Flask accessible on 127.0.0.1:5000
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): localhost:4040
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): localhost:4040
[DEBUG] urllib3.connectionpool: http://localhost:4040 "GET /api/tunnels HTTP/1.1" 200 415

  [*] Configuring webhooks with ngrok URL...
Using WhatsApp Sandbox: whatsapp:+14155238886

======================================================================
  WEBHOOK CONFIGURATION
======================================================================
Base URL: https://vani.ngrok.app


======================================================================
  CONFIGURING RESEND WEBHOOK
======================================================================
Webhook URL: https://vani.ngrok.app/api/webhooks/resend
API Key: re_i1Q5Bpx...vn6C
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.resend.com:443
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] urllib3.connectionpool: https://api.resend.com:443 "GET /domains HTTP/1.1" 200 None
‚úÖ API key validated successfully
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.resend.com:443
[DEBUG] urllib3.connectionpool: https://api.resend.com:443 "GET /webhooks HTTP/1.1" 200 None

Found 1 existing webhook(s)

Creating new webhook...
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.resend.com:443
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] urllib3.connectionpool: https://api.resend.com:443 "POST /webhooks HTTP/1.1" 422 88
‚ùå Failed to create webhook: {"statusCode":422,"message":"Missing `endpoint` field.","name":"missing_required_field"}

======================================================================
  CONFIGURING TWILIO WEBHOOK
======================================================================
Webhook URL: https://vani.ngrok.app/api/webhooks/twilio
WhatsApp Number: 14155238886
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.twilio.com:443
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:12:30] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[DEBUG] urllib3.connectionpool: https://api.twilio.com:443 "GET /2010-04-01/Accounts/AC0b78d044fe00fd25de302451b277571d/IncomingPhoneNumbers.json HTTP/1.1" 401 107
‚ùå Failed to fetch phone numbers: {"code":20003,"message":"Authenticate","more_info":"https://www.twilio.com/docs/errors/20003","status":401}

======================================================================
  CONFIGURING CAL.COM WEBHOOK
======================================================================
Webhook URL: https://vani.ngrok.app/api/webhooks/cal-com
‚úÖ Using Cal.com v1 API (Bearer token)
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.cal.com:443
[DEBUG] urllib3.connectionpool: https://api.cal.com:443 "GET /v1/webhooks HTTP/1.1" 401 32
‚ö†Ô∏è  Could not list webhooks: {"message":"No apiKey provided"}

Creating new webhook...
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.cal.com:443
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:12:33] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] urllib3.connectionpool: https://api.cal.com:443 "POST /v1/webhooks HTTP/1.1" 401 32
‚ùå Failed to create webhook: {"message":"No apiKey provided"}

======================================================================
  SUMMARY
======================================================================
‚ùå RESEND          - failed
   Error: {"statusCode":422,"message":"Missing `endpoint` field.","name":"missing_required_field"}
‚ùå TWILIO          - failed
   Error: Could not fetch phone numbers
‚ùå CAL_COM         - failed
   Error: {"message":"No apiKey provided"}

‚úÖ Configured: 0/3 services
  [!] Webhooks partially configured (0/3)
      Run 'python scripts/configure_webhooks.py' for details

  [*] Configuring Supabase OAuth URLs...

======================================================================
  CONFIGURING SUPABASE OAUTH URLS
======================================================================
Project: rkntrsprfcypwikshvsf
App URL: https://vani.ngrok.app

üìã Redirect URLs to configure:
   1. http://localhost:5000
   2. http://localhost:5000/command-center
   3. http://localhost:5000/login
   4. https://vani.ngrok.app
   5. https://vani.ngrok.app/api/auth/callback
   6. https://vani.ngrok.app/command-center
   7. https://vani.ngrok.app/login

[*] Attempting to update via Supabase Management API...
   Using SUPABASE_ACCESS_TOKEN from: .env.local
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.supabase.com:443
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] urllib3.connectionpool: https://api.supabase.com:443 "PATCH /v1/projects/rkntrsprfcypwikshvsf/config/auth HTTP/1.1" 200 None
‚úÖ Successfully updated via Management API!
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): localhost:4040
[DEBUG] urllib3.connectionpool: http://localhost:4040 "GET /api/tunnels HTTP/1.1" 200 605

======================================================================
  SERVER STATUS
======================================================================

Local URL:        http://127.0.0.1:5000
Command Center:   http://127.0.0.1:5000/command-center

‚úÖ PUBLIC URL (Ngrok): https://vani.ngrok.app
   Command Center:     https://vani.ngrok.app/command-center

üìã Webhook Endpoints:
   Resend:    https://vani.ngrok.app/api/webhooks/resend
   Twilio:    https://vani.ngrok.app/api/webhooks/twilio
   Cal.com:   https://vani.ngrok.app/api/webhooks/cal-com

üí° Tip: Webhooks are auto-configured when ngrok is detected.
   To reconfigure manually: python scripts/configure_webhooks.py

======================================================================
  ‚úÖ SERVER RUNNING
======================================================================

Press Ctrl+C to stop the server

[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:12:39] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:12:41] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:12:42] "GET /static/css/tailwind.css HTTP/1.1" 304 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:12:46] "GET /api/industries HTTP/1.1" 200 -
[INFO] app.api.auth: Session check for user raaj007@gmail.com: is_super_user=True, token_present=True
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:12:46] "GET /api/auth/session HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:12:48] "GET /api/targets HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1, offset=0
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_auth: Validating token for /api/auth/users
[DEBUG] app.api.companies: Found 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:12:48] "GET /api/meetings HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:12:48] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] app.api.contacts: Contacts API: Returning 1 contacts (total: 2003), 0 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:12:48] "GET /api/contacts?limit=1 HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:12:48] "GET /api/companies?limit=1 HTTP/1.1" 200 -
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.api.auth: list_users: Fetching users for super user raaj007@gmail.com
[INFO] app.api.auth: list_users: Returning 5 users
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:12:49] "GET /api/auth/users HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:12:51] "GET /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d HTTP/1.1" 200 -
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:12:51] "GET /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:12:52] "GET /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:12:52] "GET /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:12:52] "GET /api/dashboard/stats HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:12:52] "GET /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:12:58] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:14:00] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:14:01] "GET /static/css/tailwind.css HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:14:03] "GET /favicon.ico HTTP/1.1" 404 -
[INFO] app.api.auth: Session check for user raaj007@gmail.com: is_super_user=True, token_present=True
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:14:03] "GET /api/auth/session HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:14:03] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1, offset=0
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:14:05] "GET /api/meetings HTTP/1.1" 200 -
[DEBUG] app.api.companies: Found 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:14:05] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:14:05] "GET /api/targets HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:14:06] "GET /api/companies?limit=1 HTTP/1.1" 200 -
[INFO] app.api.contacts: Contacts API: Returning 1 contacts (total: 2003), 0 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:14:06] "GET /api/contacts?limit=1 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/users
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.api.auth: list_users: Fetching users for super user raaj007@gmail.com
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:14:09] "GET /api/dashboard/stats HTTP/1.1" 200 -
[INFO] app.api.auth: list_users: Returning 5 users
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:14:09] "GET /api/auth/users HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:14:11] "GET /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:14:11] "GET /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:14:11] "GET /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:14:11] "GET /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:14:11] "GET /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:14:14] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/signatures
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:15:40] "GET /api/signatures HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:16:13] "GET /static/css/tailwind.css HTTP/1.1" 304 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:16:20] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:16:22] "GET /static/css/tailwind.css HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:16:26] "GET /favicon.ico HTTP/1.1" 404 -
[INFO] app.api.auth: Session check for user raaj007@gmail.com: is_super_user=True, token_present=True
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:16:26] "GET /api/auth/session HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:16:26] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[WARNING] app.auth: require_auth: get_user() failed for /api/companies: [WinError 10035] A non-blocking socket operation could not be completedimmediately
[WARNING] app.auth: require_auth: get_user() failed for /api/contacts: [WinError 10035] A non-blocking socket operation could not be completed immediately
[ERROR] app.auth: require_auth: Unexpected auth error (might be temporary): [WinError 10035] A non-blocking socket operation could not be completed immediately
[ERROR] app.auth: require_auth: Unexpected auth error (might be temporary): [WinError 10035] A non-blocking socket operation could not be completed immediately
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:16:27] "GET /api/companies?limit=1 HTTP/1.1" 503 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:16:27] "GET /api/contacts?limit=1 HTTP/1.1" 503 -
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_auth: Validating token for /api/auth/users
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:16:28] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:16:28] "GET /api/meetings HTTP/1.1" 200 -
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:16:28] "GET /api/targets HTTP/1.1" 200 -
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.api.auth: list_users: Fetching users for super user raaj007@gmail.com
[INFO] app.api.auth: list_users: Returning 5 users
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:16:29] "GET /api/auth/users HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:16:31] "GET /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34 HTTP/1.1" 200 -
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:16:32] "GET /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:16:32] "GET /api/dashboard/stats HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:16:32] "GET /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:16:32] "GET /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:16:32] "GET /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:16:37] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:21:30] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:21:33] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:21:34] "GET /command-center HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:21:35] "GET /static/css/tailwind.css HTTP/1.1" 304 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] app.api.auth: Session check for user raaj007@gmail.com: is_super_user=True, token_present=True
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:21:37] "GET /api/auth/session HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:21:38] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:21:39] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1, offset=0
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.api.companies: Found 1 companies
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[WARNING] app.auth: require_auth: get_user() failed for /api/meetings: [WinError 10035] A non-blocking socket operation could not be completed immediately
[WARNING] app.auth: require_auth: get_user() failed for /api/meetings: [WinError 10035] A non-blocking socket operation could not be completed immediately
[ERROR] app.auth: require_auth: Unexpected auth error (might be temporary): [WinError 10035] A non-blocking socket operation could not be completed immediately
[ERROR] app.auth: require_auth: Unexpected auth error (might be temporary): [WinError 10035] A non-blocking socket operation could not be completed immediately
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:21:39] "GET /api/meetings?status=scheduled HTTP/1.1" 503 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:21:39] "GET /api/meetings HTTP/1.1" 503 -
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] app.api.companies: Successfully listed 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:21:39] "GET /api/companies?limit=1 HTTP/1.1" 200 -
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:21:40] "GET /api/targets HTTP/1.1" 200 -
[INFO] app.api.contacts: Contacts API: Returning 1 contacts (total: 2003), 0 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:21:40] "GET /api/contacts?limit=1 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:21:43] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:21:49] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[INFO] app.api.contacts: Contacts API: Returning 1000 contacts (total: 2003), 943 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:21:52] "GET /api/contacts HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1000, offset=0
[DEBUG] app.api.companies: Found 1000 companies
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.api.companies: Found 100 companies
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:22:29] "GET /api/companies HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/users
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.api.auth: list_users: Fetching users for super user raaj007@gmail.com
[INFO] app.api.auth: list_users: Returning 5 users
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:22:42] "GET /api/auth/users HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34
[DEBUG] app.api.companies: Found 100 companies
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:22:44] "GET /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/users
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:22:44] "GET /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:22:44] "GET /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:22:44] "GET /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:22:44] "GET /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba HTTP/1.1" 200 -
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.api.auth: list_users: Fetching users for super user raaj007@gmail.com
[INFO] app.api.auth: list_users: Returning 5 users
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:22:45] "GET /api/auth/users HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:22:46] "GET /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d HTTP/1.1" 200 -
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:22:47] "GET /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:22:47] "GET /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/signatures
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:22:47] "GET /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:22:47] "GET /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:22:47] "GET /api/signatures HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/signatures
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:22:52] "GET /api/signatures HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/signatures
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:22:54] "GET /api/signatures HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/signatures
[DEBUG] app.auth: require_auth: Validating token for /api/auth/users
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:22:56] "GET /api/signatures HTTP/1.1" 200 -
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.api.auth: list_users: Fetching users for super user raaj007@gmail.com
[INFO] app.api.auth: list_users: Returning 5 users
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:22:57] "GET /api/auth/users HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:22:59] "GET /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d HTTP/1.1" 200 -
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:22:59] "GET /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:22:59] "GET /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:22:59] "GET /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001 HTTP/1.1" 200 -
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:23:00] "GET /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:23:04] "GET /api/companies HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.api.companies: Found 100 companies
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:23:29] "GET /api/companies HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[WARNING] app.auth: require_auth: get_user() failed for /command-center: invalid JWT: unable to parse or verify signature, token has invalid claims: token is expired
[INFO] app.auth: require_auth: Attempting token refresh for /command-center
[INFO] app.auth: require_auth: Token refreshed successfully, retrying authentication
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:25:21] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:25:23] "GET /static/css/tailwind.css HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:25:24] "GET /favicon.ico HTTP/1.1" 404 -
[INFO] app.api.auth: Session check for user raaj007@gmail.com: is_super_user=True, token_present=True
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:25:25] "GET /api/auth/session HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:25:25] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1, offset=0
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:25:27] "GET /api/targets HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.api.companies: Found 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:25:27] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:25:27] "GET /api/meetings HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:25:27] "GET /api/companies?limit=1 HTTP/1.1" 200 -
[INFO] app.api.contacts: Contacts API: Returning 1 contacts (total: 2003), 0 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:25:27] "GET /api/contacts?limit=1 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:25:31] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:25:36] "GET /api/dashboard/stats HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1000 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:25:38] "GET /api/companies?limit=1000 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[INFO] app.api.contacts: Contacts API: Returning 1000 contacts (total: 2003), 943 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:26:41] "GET /api/contacts HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1000, offset=0
[DEBUG] app.api.companies: Found 1000 companies
[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:30:17] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:30:20] "GET /static/css/tailwind.css HTTP/1.1" 304 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[WARNING] app.auth: require_auth: get_user() failed for /api/industries: [WinError 10035] A non-blocking socket operation could not be completed immediately
[WARNING] app.auth: require_auth: get_user() failed for /api/auth/session: [WinError 10035] A non-blocking socket operation could not be completed immediately
[ERROR] app.auth: require_auth: Unexpected auth error (might be temporary): [WinError 10035] A non-blocking socket operation could not be completed immediately
[ERROR] app.auth: require_auth: Unexpected auth error (might be temporary): [WinError 10035] A non-blocking socket operation could not be completed immediately
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:30:21] "GET /api/industries HTTP/1.1" 503 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:30:21] "GET /api/auth/session HTTP/1.1" 503 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.api.companies: Found 100 companies
[INFO] app.api.companies: Successfully listed 1000 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:30:40] "GET /api/companies?limit=1000 HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:30:48] "GET /api/companies HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies/d6733aeb-3797-491f-a989-4842b3158c2e
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:30:55] "GET /api/companies/d6733aeb-3797-491f-a989-4842b3158c2e HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies/10eee610-b834-451c-82dd-4ea2be41c334
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:31:04] "GET /api/companies/10eee610-b834-451c-82dd-4ea2be41c334 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[INFO] app.api.contacts: Contacts API: Returning 1000 contacts (total: 2003), 943 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:31:52] "GET /api/contacts HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1000, offset=0
[DEBUG] app.api.companies: Found 1000 companies
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.api.companies: Found 100 companies
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:32:23] "GET /api/companies HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies/3f14f19c-2749-4912-9798-fd823dcf3464
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:32:32] "GET /api/companies/3f14f19c-2749-4912-9798-fd823dcf3464 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:32:43] "GET / HTTP/1.1" 302 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:32:43] "GET /login HTTP/1.1" 200 -
[INFO] app.api.auth: User raaj007@gmail.com logged in successfully.
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:32:56] "POST /login HTTP/1.1" 302 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:32:57] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:32:58] "GET /static/css/tailwind.css HTTP/1.1" 304 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[WARNING] app.auth: require_auth: get_user() failed for /api/industries: [WinError 10035] A non-blocking socket operation could not be completed immediately
[WARNING] app.auth: require_auth: get_user() failed for /api/auth/session: [WinError 10035] A non-blocking socket operation could not be completed immediately
[ERROR] app.auth: require_auth: Unexpected auth error (might be temporary): [WinError 10035] A non-blocking socket operation could not be completed immediately
[ERROR] app.auth: require_auth: Unexpected auth error (might be temporary): [WinError 10035] A non-blocking socket operation could not be completed immediately
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:33:00] "GET /api/industries HTTP/1.1" 503 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:33:00] "GET /api/auth/session HTTP/1.1" 503 -
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:33:09] "GET /api/targets HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:33:11] "GET /api/meetings HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:33:14] "GET /api/targets HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:33:16] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.api.companies: Found 100 companies
[INFO] app.api.contacts: Contacts API: Returning 1000 contacts (total: 2003), 943 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:33:16] "GET /api/contacts HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:33:18] "GET /api/targets HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1000, offset=0
[DEBUG] app.api.companies: Found 1000 companies
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:33:34] "GET /api/targets HTTP/1.1" 200 -
[INFO] app.api.contacts: Contacts API: Returning 1000 contacts (total: 2003), 943 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:33:35] "GET /api/contacts HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:33:37] "GET /api/meetings HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:33:39] "GET /api/targets HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:33:40] "GET /api/companies HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.api.companies: Found 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:33:41] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:33:46] "GET /api/meetings HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:33:47] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:33:50] "GET /api/targets HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.api.companies: Found 100 companies
[INFO] app.api.contacts: Contacts API: Returning 1000 contacts (total: 2003), 943 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:33:52] "GET /api/contacts HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1000, offset=0
[DEBUG] app.api.companies: Found 1000 companies
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:34:03] "GET /api/companies HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:34:12] "GET /command-center HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:34:14] "GET /api/companies HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:34:18] "GET /static/css/tailwind.css HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:34:20] "GET /favicon.ico HTTP/1.1" 404 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:34:20] "GET /api/industries HTTP/1.1" 200 -
[INFO] app.api.auth: Session check for user raaj007@gmail.com: is_super_user=True, token_present=True
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:34:20] "GET /api/auth/session HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1, offset=0
[DEBUG] app.api.companies: Found 1 companies
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[INFO] app.api.companies: Successfully listed 1 companies
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:34:23] "GET /api/companies?limit=1 HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:34:23] "GET /api/targets HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:34:23] "GET /api/meetings HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:34:23] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] app.api.contacts: Contacts API: Returning 1 contacts (total: 2003), 0 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:34:23] "GET /api/contacts?limit=1 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/users
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.api.auth: list_users: Fetching users for super user raaj007@gmail.com
[INFO] app.api.auth: list_users: Returning 5 users
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:34:25] "GET /api/auth/users HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:34:26] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:34:27] "GET /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:34:28] "GET /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:34:28] "GET /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:34:28] "GET /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:34:28] "GET /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34 HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:34:32] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/signatures
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:34:33] "GET /api/signatures HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:34:48] "GET /api/targets HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:34:56] "GET /api/industries HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1000 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:35:43] "GET /api/companies?limit=1000 HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1000 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:37:09] "GET /api/companies?limit=1000 HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1000 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:37:44] "GET /api/companies?limit=1000 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:39:24] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:39:28] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[WARNING] app.api.dashboard: Error getting scheduled meetings: The read operation timed out
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:45:04] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:45:23] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:45:27] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:45:40] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:49:24] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:49:28] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:49:33] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:54:18] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:54:22] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:54:27] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:59:24] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:59:27] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 16:59:32] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:02:51] "GET /api/targets HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/pitch/history/d2dbe106-fca8-4d6e-98c5-f53444154060
[DEBUG] app.auth: require_use_case(pitch_presentation): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:02:57] "GET /api/pitch/history/d2dbe106-fca8-4d6e-98c5-f53444154060 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/pitch/preview/bf0f20ca-2eba-456f-9f4d-101234c411d2
[DEBUG] app.auth: require_use_case(pitch_presentation): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:03:07] "GET /api/pitch/preview/bf0f20ca-2eba-456f-9f4d-101234c411d2 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/pitch/preview/bf0f20ca-2eba-456f-9f4d-101234c411d2
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:03:08] "GET /static/css/tailwind.css HTTP/1.1" 304 -
[DEBUG] app.auth: require_use_case(pitch_presentation): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:03:08] "GET /api/pitch/preview/bf0f20ca-2eba-456f-9f4d-101234c411d2 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/pitch/preview/2e343519-2f3c-4c8c-a76f-fa9715b0f540
[DEBUG] app.auth: require_use_case(pitch_presentation): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:03:37] "GET /api/pitch/preview/2e343519-2f3c-4c8c-a76f-fa9715b0f540 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:03:38] "GET /static/css/tailwind.css HTTP/1.1" 304 -
[DEBUG] app.auth: require_auth: Validating token for /api/pitch/preview/2e343519-2f3c-4c8c-a76f-fa9715b0f540
[DEBUG] app.auth: require_use_case(pitch_presentation): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:03:39] "GET /api/pitch/preview/2e343519-2f3c-4c8c-a76f-fa9715b0f540 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:03:49] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:04:16] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:04:21] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:04:27] "GET /api/dashboard/stats HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:07:33] "GET / HTTP/1.1" 302 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:07:34] "GET /login HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:07:35] "GET /favicon.ico HTTP/1.1" 404 -
[INFO] app.api.auth: User raaj007@gmail.com logged in successfully.
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:07:48] "POST /login HTTP/1.1" 302 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:07:50] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:07:51] "GET /static/css/tailwind.css HTTP/1.1" 304 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[INFO] app.api.auth: Session check for user raaj007@gmail.com: is_super_user=True, token_present=True
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:07:53] "GET /api/auth/session HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:07:53] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1, offset=0
[DEBUG] app.api.companies: Found 1 companies
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] app.api.companies: Successfully listed 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:08:05] "GET /api/companies?limit=1 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:08:05] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:08:05] "GET /api/meetings HTTP/1.1" 200 -
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:08:05] "GET /api/targets HTTP/1.1" 200 -
[INFO] app.api.contacts: Contacts API: Returning 1 contacts (total: 2003), 0 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:08:06] "GET /api/contacts?limit=1 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:08:08] "GET /api/targets HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:08:09] "GET /api/meetings HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:08:12] "GET /api/targets HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:08:13] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:08:27] "GET /api/industries HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:08:28] "GET /api/dashboard/stats HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:08:28] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_auth: Validating token for /api/auth/users
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.api.companies: Found 100 companies
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.api.auth: list_users: Fetching users for super user raaj007@gmail.com
[INFO] app.api.contacts: Contacts API: Returning 1000 contacts (total: 2003), 943 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:08:41] "GET /api/contacts HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] app.api.auth: list_users: Returning 5 users
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:08:41] "GET /api/auth/users HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:08:42] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001
[DEBUG] app.auth: require_auth: Validating token for /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] app.auth: require_super_user: User raaj007@gmail.com granted super user access
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:08:45] "GET /api/user-industries/3c44d3ca-08cd-4951-8f56-6f00a2f133ba HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:08:45] "GET /api/user-industries/bc81e709-2dd1-47f3-8877-60af5c41e816 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:08:46] "GET /api/user-industries/89c8e1be-0746-4b87-bffb-492b9c9bea34 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:08:46] "GET /api/user-industries/bd793c51-cfbb-4c10-86ac-19055a626001 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:08:46] "GET /api/user-industries/8ef5815b-d515-42cb-9608-a0084cd8867d HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1000, offset=0
[DEBUG] app.api.companies: Found 1000 companies
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.api.companies: Found 100 companies
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:09:12] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:09:17] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:09:20] "GET /api/companies HTTP/1.1" 200 -
[DEBUG] app.api.companies: Error getting contact count for company bc8801be-f8a5-4f49-b15e-f54776a3bca1: The read operation timed out
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:09:34] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:09:42] "GET /api/dashboard/stats HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:09:51] "GET /api/companies HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:12:56] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:13:01] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:13:11] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.api.companies: Error getting contact count for company 3b065031-b18a-4918-8eae-ec18759f1849: The read operation timed out
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:14:17] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:14:21] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:14:32] "GET /api/dashboard/stats HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:15:09] "GET /static/css/tailwind.css HTTP/1.1" 304 -
[DEBUG] app.auth: require_auth: Validating token for /api/pitch/history/d2dbe106-fca8-4d6e-98c5-f53444154060
[DEBUG] app.auth: require_auth: Validating token for /api/pitch/preview/2e343519-2f3c-4c8c-a76f-fa9715b0f540
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_use_case(pitch_presentation): Super user bypass
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.auth: require_use_case(pitch_presentation): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:15:11] "GET /api/pitch/preview/2e343519-2f3c-4c8c-a76f-fa9715b0f540 HTTP/1.1" 200 -
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:15:11] "GET /api/targets HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:15:11] "GET /api/pitch/history/d2dbe106-fca8-4d6e-98c5-f53444154060 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/pitch/history/d2dbe106-fca8-4d6e-98c5-f53444154060
[DEBUG] app.auth: require_use_case(pitch_presentation): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:15:13] "GET /api/pitch/history/d2dbe106-fca8-4d6e-98c5-f53444154060 HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1000 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:15:35] "GET /api/companies?limit=1000 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:18:06] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:18:21] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:18:31] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:19:30] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:19:35] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:19:48] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:22:57] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:23:03] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:23:13] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:24:28] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:24:31] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:24:37] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:28:07] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:28:13] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:28:24] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:29:31] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:29:35] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:29:44] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:32:58] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:33:03] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:33:14] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[WARNING] app.auth: require_auth: get_user() failed for /api/meetings: invalid JWT: unable to parse or verify signature, token has invalid claims: token is expired
[INFO] app.auth: require_auth: Attempting token refresh for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[WARNING] app.auth: require_auth: get_user() failed for /api/dashboard/stats: invalid JWT: unable to parse or verify signature, token has invalid claims: token is expired
[INFO] app.auth: require_auth: Token refreshed successfully, retrying authentication
[INFO] app.auth: require_auth: Attempting token refresh for /api/dashboard/stats
[INFO] app.auth: require_auth: Token refreshed successfully, retrying authentication
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:34:29] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:34:37] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[WARNING] app.auth: require_auth: get_user() failed for /api/dashboard/stats: invalid JWT: unable to parse or verify signature, token has invalid claims: token is expired
[INFO] app.auth: require_auth: Attempting token refresh for /api/dashboard/stats
[INFO] app.auth: require_auth: Token refreshed successfully, retrying authentication
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:34:52] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:37:56] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:38:03] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:38:14] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:39:28] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:39:33] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:39:44] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:42:17] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:42:19] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:42:20] "GET /static/css/tailwind.css HTTP/1.1" 304 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[INFO] app.api.auth: Session check for user raaj007@gmail.com: is_super_user=True, token_present=True
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:42:24] "GET /api/auth/session HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:42:24] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1, offset=0
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:42:26] "GET /api/targets HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.api.companies: Found 1 companies
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] app.api.companies: Successfully listed 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:42:26] "GET /api/companies?limit=1 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:42:26] "GET /api/meetings HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:42:26] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] app.api.contacts: Contacts API: Returning 1 contacts (total: 2003), 0 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:42:26] "GET /api/contacts?limit=1 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:42:27] "GET /api/industries HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:42:29] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:42:37] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:42:56] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:43:03] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:43:14] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/targets/ai-search-history
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[ERROR] app.api.targets: Error getting target: {'code': '22P02', 'details': None, 'hint': None, 'message': 'invalid input syntax for type uuid:"ai-search-history"'}
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:43:24] "GET /api/targets/ai-search-history HTTP/1.1" 500 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:47:28] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:47:37] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:47:46] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:47:55] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:48:03] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:48:20] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:52:28] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:52:31] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:52:39] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:52:55] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:52:59] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:53:05] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:53:49] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:53:50] "GET /static/css/tailwind.css HTTP/1.1" 304 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[INFO] app.api.auth: Session check for user raaj007@gmail.com: is_super_user=True, token_present=True
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:53:52] "GET /api/auth/session HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:53:52] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1, offset=0
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:53:54] "GET /api/meetings HTTP/1.1" 200 -
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.companies: Found 1 companies
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:53:54] "GET /api/targets HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:53:54] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:53:54] "GET /api/companies?limit=1 HTTP/1.1" 200 -
[INFO] app.api.contacts: Contacts API: Returning 1 contacts (total: 2003), 0 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:53:54] "GET /api/contacts?limit=1 HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.api.companies: Found 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:53:57] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:54:05] "GET /api/dashboard/stats HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:54:33] "GET /api/companies HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:54:37] "GET /api/meetings HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[WARNING] app.auth: require_auth: get_user() failed for /api/industries: [WinError 10035] A non-blocking socket operation could not be completed immediately
[WARNING] app.auth: require_auth: get_user() failed for /api/contacts: [WinError 10035] A non-blocking socket operation could not be completed immediately
[ERROR] app.auth: require_auth: Unexpected auth error (might be temporary): [WinError 10035] A non-blocking socket operation could not be completed immediately
[ERROR] app.auth: require_auth: Unexpected auth error (might be temporary): [WinError 10035] A non-blocking socket operation could not be completed immediately
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:54:38] "GET /api/industries HTTP/1.1" 503 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:54:38] "GET /api/contacts HTTP/1.1" 503 -
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:54:40] "GET /api/targets HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:54:42] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[INFO] app.api.contacts: Contacts API: Returning 1000 contacts (total: 2003), 943 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:54:49] "GET /api/contacts HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1000, offset=0
[DEBUG] app.api.companies: Found 1000 companies
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.api.companies: Found 100 companies
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:55:30] "GET /api/companies HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:58:05] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:58:09] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:58:14] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:58:40] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:58:41] "GET /static/css/tailwind.css HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:58:43] "GET /favicon.ico HTTP/1.1" 404 -
[INFO] app.api.auth: Session check for user raaj007@gmail.com: is_super_user=True, token_present=True
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:58:43] "GET /api/auth/session HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:58:43] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:58:45] "GET /api/targets HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1, offset=0
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.api.companies: Found 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:58:45] "GET /api/meetings HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:58:45] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:58:45] "GET /api/companies?limit=1 HTTP/1.1" 200 -
[INFO] app.api.contacts: Contacts API: Returning 1 contacts (total: 2003), 0 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:58:45] "GET /api/contacts?limit=1 HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=100, offset=0
[DEBUG] app.api.companies: Found 100 companies
[INFO] app.api.contacts: Contacts API: Returning 1000 contacts (total: 2003), 943 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:58:46] "GET /api/contacts HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1000, offset=0
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:58:49] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.api.companies: Found 1000 companies
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:58:54] "GET /api/dashboard/stats HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 100 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 17:59:14] "GET /api/companies HTTP/1.1" 200 -


[STOP] Server stopped by user
  Stopping Flask server...
  Stopping ngrok...
  [OK] Ngrok stopped

[OK] Cleanup complete. Exiting...

Terminate batch job (Y/N)? y

(venv) C:\Raaj\kcube_consulting_labs\vani>vani
========================================
  VANI - Virtual Agent Network Interface
========================================

[1/2] Activating virtual environment...
[OK] Virtual environment activated

[2/2] Checking dependencies...
Starting VANI application...


======================================================================
  VANI OUTREACH COMMAND CENTER - STARTUP
======================================================================

[0/5] Cleaning up existing processes...
  [OK] Killed ngrok processes

[1/5] Checking environment variables...
  [OK] SUPABASE_URL              = https://rkntrsprfcypwikshvsf.supabase.co
  [OK] SUPABASE_KEY              = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJrbnRyc3ByZmN5cHdpa3NodnNmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwNjEzMDcsImV4cCI6MjA4MDYzNzMwN30.ilGFLUQAqg6wIgj5Akf00raVdB0WkjfLXQX1z3L2w40
  [OK] SUPABASE_SERVICE_KEY      = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJrbnRyc3ByZmN5cHdpa3NodnNmIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NTA2MTMwNywiZXhwIjoyMDgwNjM3MzA3fQ.tFQdXZ_XEK85TS9dW0GPFIdNHKNDMPv0hUcizdS0SMs
  [OK] RESEND_API_KEY            = re_i1Q5BpxP_13otSmqXwbzFbNh3XYcLvn6C
  [OK] TWILIO_ACCOUNT_SID        = AC0b78d044fe00fd25de302451b277571d
  [OK] TWILIO_AUTH_TOKEN         = 2yXFVI3f7lkNmrDnHC8WJl5Jk8CYQCIj
  [OK] OPENAI_API_KEY            = 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
  [OK] RAG_API_KEY               = 27e887d021a49654a0a703688cb139cdf652dfec795009a5afb8e9556c49b181
  [OK] RAG_SERVICE_URL           = https://rag.kcube-consulting.com
  [OK] GEMINI_API_KEY            = AIzaSyAgehj_KDtxFC-rt0yGV7qZE6q9TSqTZxY
  [OK] SUPABASE_ACCESS_TOKEN     = sbp_c18882db5dcfc73fbd054a609354b2139a773df0
  [OK] TWILIO_SANDBOX_WHATSAPP_NUMBER = whatsapp:+14155238886
  [OK] TWILIO_WHATSAPP_NUMBER    = whatsapp:+15513216580
  [OK] TWILIO_PHONE_NUMBER       = +13253997829
  [OK] TWILIO_SANDBOX_WHATSAPP_NUMBER = whatsapp:+14155238886
  [OK] TWILIO_WHATSAPP_NUMBER    = whatsapp:+15513216580
  [OK] TWILIO_PHONE_NUMBER       = +13253997829

[AI] AI Target Finder Feature Status:
  [OK] OpenAI API configured - Basic AI features available
  [OK] Enhanced features available:
       - RAG-enhanced contact analysis
       - Gemini/Notebook LM integration
  [‚úì] Full AI Target Finder capabilities available!
[OK] All required environment variables are set

[2/5] Checking database connection...
  [OK] Database connected - Tables accessible
[3/5] Checking ngrok tunnel...
  [!] Ngrok not running (webhooks won't work)
      Start with: .\scripts\start_ngrok.ps1
      Or set WEBHOOK_BASE_URL in .env.local for manual configuration
    Expected URL: https://vani.ngrok.app
    [!] Will start ngrok after Flask starts

[4/5] Starting Flask application...

======================================================================
  FLASK SERVER STARTING
======================================================================

Local URL:        http://127.0.0.1:5000
Command Center:   http://127.0.0.1:5000/command-center

[5/5] Waiting for Flask to start, then starting ngrok...
  Verifying Flask is listening on port...
[INFO] app.supabase_client: Supabase client initialized successfully
[INFO] app.auth: Supabase Auth client initialized
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): localhost:5000
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:00:03] "GET / HTTP/1.1" 302 -
[DEBUG] urllib3.connectionpool: http://localhost:5000 "GET / HTTP/1.1" 302 199
[DEBUG] urllib3.connectionpool: Resetting dropped connection: localhost
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:00:05] "GET /login HTTP/1.1" 200 -
[DEBUG] urllib3.connectionpool: http://localhost:5000 "GET /login HTTP/1.1" 200 11859
  [OK] Flask is accessible on localhost:5000
  [OK] Flask is ready!

Starting ngrok tunnel...
  Verifying Flask is accessible on port 5000...
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): 127.0.0.1:5000
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:00:07] "GET / HTTP/1.1" 302 -
[DEBUG] urllib3.connectionpool: http://127.0.0.1:5000 "GET / HTTP/1.1" 302 199
[DEBUG] urllib3.connectionpool: Resetting dropped connection: 127.0.0.1
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:00:07] "GET /login HTTP/1.1" 200 -
[DEBUG] urllib3.connectionpool: http://127.0.0.1:5000 "GET /login HTTP/1.1" 200 11859
  [OK] Flask accessible on 127.0.0.1:5000
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): localhost:4040
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): localhost:4040
[DEBUG] urllib3.connectionpool: http://localhost:4040 "GET /api/tunnels HTTP/1.1" 200 415

  [*] Configuring webhooks with ngrok URL...
Using WhatsApp Sandbox: whatsapp:+14155238886

======================================================================
  WEBHOOK CONFIGURATION
======================================================================
Base URL: https://vani.ngrok.app


======================================================================
  CONFIGURING RESEND WEBHOOK
======================================================================
Webhook URL: https://vani.ngrok.app/api/webhooks/resend
API Key: re_i1Q5Bpx...vn6C
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.resend.com:443
[DEBUG] urllib3.connectionpool: https://api.resend.com:443 "GET /domains HTTP/1.1" 200 None
‚úÖ API key validated successfully
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.resend.com:443
[DEBUG] urllib3.connectionpool: https://api.resend.com:443 "GET /webhooks HTTP/1.1" 200 None

Found 1 existing webhook(s)

Creating new webhook...
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.resend.com:443
[DEBUG] urllib3.connectionpool: https://api.resend.com:443 "POST /webhooks HTTP/1.1" 422 88
‚ùå Failed to create webhook: {"statusCode":422,"message":"Missing `endpoint` field.","name":"missing_required_field"}

======================================================================
  CONFIGURING TWILIO WEBHOOK
======================================================================
Webhook URL: https://vani.ngrok.app/api/webhooks/twilio
WhatsApp Number: 14155238886
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.twilio.com:443
[DEBUG] urllib3.connectionpool: https://api.twilio.com:443 "GET /2010-04-01/Accounts/AC0b78d044fe00fd25de302451b277571d/IncomingPhoneNumbers.json HTTP/1.1" 401 107
‚ùå Failed to fetch phone numbers: {"code":20003,"message":"Authenticate","more_info":"https://www.twilio.com/docs/errors/20003","status":401}

======================================================================
  CONFIGURING CAL.COM WEBHOOK
======================================================================
Webhook URL: https://vani.ngrok.app/api/webhooks/cal-com
‚úÖ Using Cal.com v1 API (Bearer token)
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.cal.com:443
[DEBUG] urllib3.connectionpool: https://api.cal.com:443 "GET /v1/webhooks HTTP/1.1" 401 32
‚ö†Ô∏è  Could not list webhooks: {"message":"No apiKey provided"}

Creating new webhook...
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.cal.com:443
[DEBUG] urllib3.connectionpool: https://api.cal.com:443 "POST /v1/webhooks HTTP/1.1" 401 32
‚ùå Failed to create webhook: {"message":"No apiKey provided"}

======================================================================
  SUMMARY
======================================================================
‚ùå RESEND          - failed
   Error: {"statusCode":422,"message":"Missing `endpoint` field.","name":"missing_required_field"}
‚ùå TWILIO          - failed
   Error: Could not fetch phone numbers
‚ùå CAL_COM         - failed
   Error: {"message":"No apiKey provided"}

‚úÖ Configured: 0/3 services
  [!] Webhooks partially configured (0/3)
      Run 'python scripts/configure_webhooks.py' for details

  [*] Configuring Supabase OAuth URLs...

======================================================================
  CONFIGURING SUPABASE OAUTH URLS
======================================================================
Project: rkntrsprfcypwikshvsf
App URL: https://vani.ngrok.app

üìã Redirect URLs to configure:
   1. http://localhost:5000
   2. http://localhost:5000/command-center
   3. http://localhost:5000/login
   4. https://vani.ngrok.app
   5. https://vani.ngrok.app/api/auth/callback
   6. https://vani.ngrok.app/command-center
   7. https://vani.ngrok.app/login

[*] Attempting to update via Supabase Management API...
   Using SUPABASE_ACCESS_TOKEN from: .env.local
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): api.supabase.com:443
[DEBUG] urllib3.connectionpool: https://api.supabase.com:443 "PATCH /v1/projects/rkntrsprfcypwikshvsf/config/auth HTTP/1.1" 200 None
‚úÖ Successfully updated via Management API!
[DEBUG] urllib3.connectionpool: Starting new HTTP connection (1): localhost:4040
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] urllib3.connectionpool: http://localhost:4040 "GET /api/tunnels HTTP/1.1" 200 415

======================================================================
  SERVER STATUS
======================================================================

Local URL:        http://127.0.0.1:5000
Command Center:   http://127.0.0.1:5000/command-center

‚úÖ PUBLIC URL (Ngrok): https://vani.ngrok.app
   Command Center:     https://vani.ngrok.app/command-center

üìã Webhook Endpoints:
   Resend:    https://vani.ngrok.app/api/webhooks/resend
   Twilio:    https://vani.ngrok.app/api/webhooks/twilio
   Cal.com:   https://vani.ngrok.app/api/webhooks/cal-com

üí° Tip: Webhooks are auto-configured when ngrok is detected.
   To reconfigure manually: python scripts/configure_webhooks.py

======================================================================
  ‚úÖ SERVER RUNNING
======================================================================

Press Ctrl+C to stop the server

[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[INFO] app.api.contacts: Contacts API: Returning 1000 contacts (total: 2003), 943 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:00:34] "GET /api/contacts HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=500, offset=0
[DEBUG] app.api.companies: Found 500 companies
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1000, offset=0
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.api.companies: Found 1000 companies
[INFO] app.api.contacts: Contacts API: Returning 1000 contacts (total: 2003), 943 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:00:46] "GET /api/contacts HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:00:48] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:00:51] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:00:51] "GET /api/targets HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:00:53] "GET /api/targets HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:00:53] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[INFO] app.api.contacts: Contacts API: Returning 1000 contacts (total: 2003), 943 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:00:55] "GET /api/contacts HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=500, offset=0
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=500, offset=0
[DEBUG] app.api.companies: Found 500 companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=500, offset=0
[DEBUG] app.api.companies: Found 500 companies
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.api.companies: Found 500 companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=500, offset=0
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.api.companies: Found 500 companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=500, offset=0
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.api.companies: Found 500 companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=500, offset=0
[DEBUG] app.api.companies: Found 500 companies
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=500, offset=0
[DEBUG] app.api.companies: Found 500 companies
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1000, offset=0
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.api.companies: Found 1000 companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=500, offset=0
[DEBUG] app.api.companies: Found 500 companies
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1000, offset=0
[DEBUG] app.api.companies: Found 1000 companies
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[INFO] app.api.contacts: Contacts API: Returning 1000 contacts (total: 2003), 943 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:01:42] "GET /api/contacts HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[INFO] app.api.contacts: Contacts API: Returning 1000 contacts (total: 2003), 943 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:02:00] "GET /api/contacts HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=500, offset=0
[DEBUG] app.api.companies: Found 500 companies
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1000, offset=0
[DEBUG] app.api.companies: Found 1000 companies
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1000, offset=0
[DEBUG] app.api.companies: Found 1000 companies
[INFO] app.api.companies: Successfully listed 500 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:02:42] "GET /api/companies HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 500 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:03:03] "GET /api/companies HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 500 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:03:04] "GET /api/companies HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 500 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:03:05] "GET /api/companies HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 500 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:03:06] "GET /api/companies HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 500 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:03:06] "GET /api/companies HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 500 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:03:07] "GET /api/companies HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 500 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:03:09] "GET /api/companies HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 500 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:03:14] "GET /api/companies HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:03:45] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:03:49] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:03:54] "GET /api/dashboard/stats HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 500 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:04:03] "GET /api/companies HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=500, offset=0
[DEBUG] app.api.companies: Found 500 companies
[INFO] app.api.companies: Successfully listed 1000 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:05:07] "GET /api/companies?limit=1000 HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1000 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:05:56] "GET /api/companies?limit=1000 HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1000 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:06:04] "GET /api/companies?limit=1000 HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1000 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:07:20] "GET /api/companies?limit=1000 HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 500 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:07:32] "GET /api/companies HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1000 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:07:47] "GET /api/companies?limit=1000 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[WARNING] app.auth: require_auth: get_user() failed for /api/meetings: invalid JWT: unable to parse or verify signature, token has invalid claims: token is expired
[WARNING] app.auth: require_auth: get_user() failed for /api/dashboard/stats: invalid JWT: unable to parse or verify signature, token has invalid claims: token is expired
[INFO] app.auth: require_auth: Attempting token refresh for /api/meetings
[INFO] app.auth: require_auth: Attempting token refresh for /api/dashboard/stats
[INFO] app.auth: require_auth: Token refreshed successfully, retrying authentication
[INFO] app.auth: require_auth: Token refreshed successfully, retrying authentication
[WARNING] app.auth: require_auth: Token refresh failed: [WinError 10035] A non-blocking socket operation could not be completed immediately
[WARNING] app.auth: require_auth: Token refresh failed: [WinError 10035] A non-blocking socket operation could not be completed immediately
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:08:55] "GET /api/meetings?status=scheduled HTTP/1.1" 401 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:08:55] "GET /api/dashboard/stats HTTP/1.1" 401 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[WARNING] app.auth: require_auth: No access_token in session for /api/auth/session
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:08:56] "GET /api/auth/session HTTP/1.1" 401 -
[WARNING] app.auth: require_auth: get_user() failed for /api/dashboard/stats: invalid JWT: unable to parse or verify signature, token has invalid claims: token is expired
[INFO] app.auth: require_auth: Attempting token refresh for /api/dashboard/stats
[INFO] app.auth: require_auth: Token refreshed successfully, retrying authentication
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:08:57] "GET /login HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:09:08] "GET /api/dashboard/stats HTTP/1.1" 200 -
[INFO] app.api.auth: User raaj007@gmail.com logged in successfully.
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:16:28] "POST /login HTTP/1.1" 302 -
[DEBUG] app.auth: require_auth: Validating token for /command-center
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:16:30] "GET /command-center HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:16:31] "GET /static/css/tailwind.css HTTP/1.1" 304 -
[DEBUG] app.auth: require_auth: Validating token for /api/auth/session
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] app.api.auth: Session check for user raaj007@gmail.com: is_super_user=True, token_present=True
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:16:33] "GET /api/auth/session HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:16:33] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1, offset=0
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.api.companies: Found 1 companies
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:16:37] "GET /api/targets HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:16:37] "GET /api/meetings HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] app.api.companies: Successfully listed 1 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:16:37] "GET /api/companies?limit=1 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:16:37] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] app.api.contacts: Contacts API: Returning 1 contacts (total: 2003), 0 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:16:37] "GET /api/contacts?limit=1 HTTP/1.1" 200 -
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=500, offset=0
[DEBUG] app.api.companies: Found 500 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:16:42] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:16:51] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[INFO] app.api.contacts: Contacts API: Returning 1000 contacts (total: 2003), 943 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:17:46] "GET /api/contacts HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:17:48] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1000, offset=0
[DEBUG] app.api.companies: Found 1000 companies
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=500, offset=0
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.api.companies: Found 500 companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=500, offset=0
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.api.companies: Found 500 companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=500, offset=0
[DEBUG] app.api.companies: Found 500 companies
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=500, offset=0
[DEBUG] app.api.companies: Found 500 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:19:57] "GET /static/css/tailwind.css HTTP/1.1" 304 -
[INFO] app.api.companies: Successfully listed 500 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:20:08] "GET /api/companies HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=500, offset=0
[DEBUG] app.api.companies: Found 500 companies
[INFO] app.api.contacts: Contacts API: Returning 1000 contacts (total: 2003), 943 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:20:43] "GET /api/contacts HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=500, offset=0
[DEBUG] app.api.companies: Found 500 companies
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=500, offset=0
[DEBUG] app.api.companies: Found 500 companies
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1000, offset=0
[DEBUG] app.api.companies: Found 1000 companies
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:21:36] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 500 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:21:37] "GET /api/companies HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 500 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:21:38] "GET /api/companies HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 500 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:21:39] "GET /api/companies HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:21:39] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] app.api.companies: Successfully listed 500 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:21:46] "GET /api/companies HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:21:48] "GET /api/dashboard/stats HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 500 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:22:59] "GET /api/companies HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 500 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:23:23] "GET /api/companies HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 500 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:23:23] "GET /api/companies HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True, industry_param=None
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: PASSED industry admin filter (industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47)
[INFO] app.api.targets: list_targets: Returning 5 targets (user_industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:23:33] "GET /api/targets HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1000 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:23:35] "GET /api/companies?limit=1000 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries/switch
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:23:42] "POST /api/industries/switch HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/targets
[DEBUG] app.auth: require_use_case(target_management): Super user bypass
[DEBUG] app.api.targets: list_targets: user_industry_id=6ea09a7e-88ca-44f5-81a3-d72475edafec, is_super_user=True, is_industry_admin=True, industry_param=6ea09a7e-88ca-44f5-81a3-d72475edafec
[DEBUG] app.api.targets: list_targets: Fetched 5 targets from database before filtering
[DEBUG] app.api.targets: Raw target data: company_name=ITC Limited, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target ITC Limited: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target ITC Limited: Skipped - industry_id mismatch (target=8490f1b6-1341-40bc-b887-e39e7fa53d47, user=6ea09a7e-88ca-44f5-81a3-d72475edafec)
[DEBUG] app.api.targets: Raw target data: company_name=Asian Paints, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Asian Paints: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Asian Paints: Skipped - industry_id mismatch (target=8490f1b6-1341-40bc-b887-e39e7fa53d47, user=6ea09a7e-88ca-44f5-81a3-d72475edafec)
[DEBUG] app.api.targets: Raw target data: company_name=Marico, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Marico: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Marico: Skipped - industry_id mismatch (target=8490f1b6-1341-40bc-b887-e39e7fa53d47, user=6ea09a7e-88ca-44f5-81a3-d72475edafec)
[DEBUG] app.api.targets: Raw target data: company_name=Britannia Ind., industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Britannia Ind.: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Britannia Ind.: Skipped - industry_id mismatch (target=8490f1b6-1341-40bc-b887-e39e7fa53d47, user=6ea09a7e-88ca-44f5-81a3-d72475edafec)
[DEBUG] app.api.targets: Raw target data: company_name=Hindustan Unilever, industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47, type=<class 'str'>
[DEBUG] app.api.targets: Target Hindustan Unilever: Using raw industry_id=8490f1b6-1341-40bc-b887-e39e7fa53d47
[DEBUG] app.api.targets: Target Hindustan Unilever: Skipped - industry_id mismatch (target=8490f1b6-1341-40bc-b887-e39e7fa53d47, user=6ea09a7e-88ca-44f5-81a3-d72475edafec)
[INFO] app.api.targets: list_targets: Returning 0 targets (user_industry_id=6ea09a7e-88ca-44f5-81a3-d72475edafec, is_super_user=True, is_industry_admin=True)
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:23:43] "GET /api/targets?industry=6ea09a7e-88ca-44f5-81a3-d72475edafec HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:24:49] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/targets/ai-identify
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(ai_target_finder): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:26:42] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] app.integrations.gemini_client: Gemini client initialized with model: gemini-1.5-pro
[WARNING] app.services.industry_context: No specific context found for industry: Travel, using default
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): rag.kcube-consulting.com:443
[INFO] app.api.companies: Successfully listed 1000 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:26:43] "GET /api/companies?limit=1000 HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:26:47] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] urllib3.connectionpool: https://rag.kcube-consulting.com:443 "POST /rag/query HTTP/1.1" 200 91
[DEBUG] app.integrations.rag_client: RAG query successful: 0 results
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): rag.kcube-consulting.com:443
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] urllib3.connectionpool: https://rag.kcube-consulting.com:443 "POST /rag/query HTTP/1.1" 200 79
[DEBUG] app.integrations.rag_client: RAG query successful: 0 results
[DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): rag.kcube-consulting.com:443
[DEBUG] urllib3.connectionpool: https://rag.kcube-consulting.com:443 "POST /rag/query HTTP/1.1" 200 112
[DEBUG] app.integrations.rag_client: RAG query successful: 0 results
[ERROR] app.integrations.gemini_client: Error querying Gemini/Notebook LM: 400 API key not valid. Please pass a valid API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key not valid. Please pass a valid API key."
]
[DEBUG] openai._base_client: Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role':'system', 'content': 'You are an expert B2B sales analyst. Analyze contacts to identify high-value targets. Return only valid JSON.'}, {'role':'user', 'content': 'You are analyzing contacts in the Travel industry to identify high-value targets for two solutions:\n\n1. Onlyne Reputation(onlynereputation.com): Digital/AI reputation management, review generation, sentiment analysis\n2. The AI Company (theaicompany.ngrok.app): GenAI Agentic Platform, Revenue Growth Platform, automation solutions\n\nIndustry Context: Travel\n- Typical pain points: Need for digital transformation, Cost optimization, Market expansion\n- Common decision-makers: Director, VP, Manager\n- Industry-specific challenges: Digital transformation, Operational efficiency, Market growth\n\n\n\n\n\nContacts to Analyze:\n\nContact 1:\n- Name: Kapil Garg\n- Role: Managing Director\n- Company: Shellz India\n- Email: kapil.garg@shellzoverseas.com\n- LinkedIn: https://www.linkedin.com/in/kapil-garg-07017555\n- Industry: food & beverages\n\nContact 2:\n- Name: Aayush Singh\n- Role: Owner\n- Company: Coffee & Cravings\n- Email: aayushs@referralcandy.com\n- LinkedIn: https://www.linkedin.com/in/aayush-singh-1b8318330\n- Industry: food & beverages\n\nContact 3:\n- Name: Vishal Yadav\n- Role: Entrepreneur\n- Company: Bittoo Tikki Wala\n- Email: vishalyadav@btwindia.com\n- LinkedIn: https://www.linkedin.com/in/vishal-yadav-94178b288\n- Industry: food & beverages\n\nContact 4:\n- Name: Adarsh Khandelwal\n- Role: Shop Owner\n- Company: Assam Tea\n- Email: akhandelwal@assamteacompany.com\n- LinkedIn: https://www.linkedin.com/in/adarsh-khandelwal-63b3b71aa\n- Industry: food & beverages\n\nContact 5:\n- Name: Omkar Singh Chef\n- Role: Chef\n- Company: Blue Tokai Coffee Roasters\n- Email: omkar@bluetokaicoffee.com\n- LinkedIn: https://www.linkedin.com/in/omkar-singh-chef-8318851a7\n- Industry: food & beverages\n\nContact 6:\n- Name: Make A Wish Box\n- Role: Business Owner\n- Company: Make a Wish Box\n- Email: make.box@makeawishbox.in\n- LinkedIn: https://www.linkedin.com/in/make-a-wish-box-99a3a5264\n- Industry: food & beverages\n\nContact 7:\n- Name: Avon Lab\n- Role: Company Owner\n- Company: Avon Food Lab Pvt. Ltd.\n- Email: avon.lab@avonfoodlab.com\n- LinkedIn: https://www.linkedin.com/in/avon-food-lab-6634a2188\n- Industry: food & beverages\n\nContact 8:\n- Name: Aseem Srivastava\n- Role: Business Owner\n- Company: Aseertime\n- Email: aseem.srivastava@aseertime.com\n- LinkedIn: https://www.linkedin.com/in/aseem-srivastava-69ab80206\n- Industry: food & beverages\n\nContact 9:\n- Name: Amit Singh\n- Role: Head Of Production\n- Company: Nirula\'s\n- Email: amit@nirulas.com\n- LinkedIn: https://www.linkedin.com/in/amit-singh-247bb31b1\n- Industry: food & beverages\n\nContact 10:\n- Name: Swati Pandey\n- Role: Co-Founder and CEO\n- Company: Arboreal\n- Email: swati@arborealstevia.com\n- LinkedIn: https://www.linkedin.com/in/swati-pandey-01a29813\n- Industry: food & beverages\n\n\nFor each contact, analyze and return JSON with:\n{\n  "recommendations": [\n    {\n      "contact_id": "contact UUID",\n      "contact_name": "Full name",\n      "company_name": "Company name",\n      "role": "Job title",\n      "email": "email if available",\n      "phone": "phone if available",\n      "linkedin_url": "LinkedIn URL if available",\n      "seniority_score": 0.0-1.0,  // Industry-appropriate: C-suite=0.9+, VP=0.7-0.9, Director=0.5-0.7\n      "solution_fit": "onlyne_reputation | the_ai_company | both",\n      "confidence_score": 0.0-1.0,\n      "identified_gaps": ["gap1", "gap2"],  // Industry-specific enterprise gaps\n      "recommended_pitch_angle": "Industry-specific outreach strategy",\n      "pain_points": ["pain1", "pain2"],  // Industry-relevant pain points\n      "reasoning": "Brief explanation with industry context and RAG/Gemini examples"\n    }\n  ]\n}\n\nFocus on:\n- Seniority appropriate for Travel industry\n- Solution fit based on industry patterns and RAG/Gemini examples\n- Industry-specific gaps and pain points\n- High confidence recommendations only\n\nReturn only valid JSON.'}], 'model': 'gpt-4o-mini', 'max_tokens': 4000, 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
[DEBUG] openai._base_client: HTTP Request: POST https://api.openai.com/v1/chat/completions "200 OK"
[DEBUG] openai._base_client: Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role':'system', 'content': 'You are an expert B2B sales analyst. Analyze contacts to identify high-value targets. Return only valid JSON.'}, {'role':'user', 'content': 'You are analyzing contacts in the Travel industry to identify high-value targets for two solutions:\n\n1. Onlyne Reputation(onlynereputation.com): Digital/AI reputation management, review generation, sentiment analysis\n2. The AI Company (theaicompany.ngrok.app): GenAI Agentic Platform, Revenue Growth Platform, automation solutions\n\nIndustry Context: Travel\n- Typical pain points: Need for digital transformation, Cost optimization, Market expansion\n- Common decision-makers: Director, VP, Manager\n- Industry-specific challenges: Digital transformation, Operational efficiency, Market growth\n\n\n\n\n\nContacts to Analyze:\n\nContact 1:\n- Name: Vikrant Batra\n- Role: Co-founder\n- Company: Cafe Delhi Heights\n- Email: vikrant@cafedelhiheights.com\n- LinkedIn: https://www.linkedin.com/in/vikrant-batra-575473128\n- Industry: food &beverages\n\nContact 2:\n- Name: Pabulum India\n- Role: Company Owner\n- Company: Pabulum India\n- Email: pabulum.india@alchemiagro.com\n- LinkedIn: https://www.linkedin.com/in/pabulum-india-7b99b9306\n- Industry: food & beverages\n\nContact 3:\n- Name: Khalid Kamal\n- Role: Owner\n- Company: Food Club\n- Email: khalid.kamal@foodclub.ai\n- LinkedIn: https://www.linkedin.com/in/khalid-kamal-804173293\n- Industry: food & beverages\n\nContact 4:\n- Name: Priyanka Arora\n- Role: Business Owner\n- Company: The Cake Bake Shop\n- Email: priyanka@thecakebakeshop.com\n- LinkedIn: https://www.linkedin.com/in/priyanka-arora-055a06205\n- Industry: food & beverages\n\nContact 5:\n- Name: Nirulas Icecream\n- Role: Owner\n- Company: Nirula\'s\n- Email: nirulas@nirulas.com\n- LinkedIn: https://www.linkedin.com/in/nirulas-icecream-2ab75b1b9\n- Industry: food & beverages\n\nContact 6:\n- Name: Sunil Khurana\n- Role: President\n- Company: G.d. Foods Mfg. Pvt. Ltd.\n- Email: sunil.khurana@tops.in\n- LinkedIn: https://www.linkedin.com/in/sunil-khurana-63a4a7329\n- Industry: food & beverages\n\nContact 7:\n- Name: Ajay Thakur\n- Role: Head of Operations\n- Company: Nomad Pizza\n- Email: ajay@nomadpizza.in\n- LinkedIn: https://www.linkedin.com/in/ajay-thakur-b881705\n- Industry: food & beverages\n\nContact 8:\n- Name: Anil Chawla\n- Role: Founder\n- Company: Amddc Hospitality Pvt. Ltd.\n- Email: anil@getafix.cafe\n- LinkedIn: https://www.linkedin.com/in/anilchawlablog\n- Industry: food & beverages\n\nContact 9:\n- Name: Hira Sweets\n- Role: Owner\n- Company: Hira Sweets\n- Email:cp@hirasweets.com\n- LinkedIn: https://www.linkedin.com/in/hira-sweets-047339145\n- Industry: food & beverages\n\nContact 10:\n- Name: Satnam Arora\n- Role: Joint Managing Director\n- Company: Kohinoor Foods Ltd.\n- Email: satnam@kohinoorfoods.com\n- LinkedIn: https://www.linkedin.com/in/satnam-arora-5990a0a1\n- Industry: food & beverages\n\n\nFor each contact, analyze and return JSON with:\n{\n  "recommendations": [\n    {\n   "contact_id": "contact UUID",\n      "contact_name": "Full name",\n      "company_name": "Company name",\n      "role": "Job title",\n      "email": "email if available",\n      "phone": "phone if available",\n      "linkedin_url": "LinkedIn URL if available",\n      "seniority_score": 0.0-1.0,  // Industry-appropriate: C-suite=0.9+, VP=0.7-0.9, Director=0.5-0.7\n      "solution_fit": "onlyne_reputation | the_ai_company | both",\n      "confidence_score": 0.0-1.0,\n      "identified_gaps": ["gap1", "gap2"],  // Industry-specific enterprise gaps\n      "recommended_pitch_angle": "Industry-specific outreach strategy",\n      "pain_points": ["pain1", "pain2"],  // Industry-relevant pain points\n      "reasoning": "Brief explanation with industry context and RAG/Gemini examples"\n    }\n  ]\n}\n\nFocus on:\n- Seniority appropriate for Travel industry\n- Solution fit based on industry patterns and RAG/Gemini examples\n- Industry-specific gaps and pain points\n- High confidence recommendations only\n\nReturn only valid JSON.'}], 'model': 'gpt-4o-mini', 'max_tokens': 4000, 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:26:53] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] openai._base_client: HTTP Request: POST https://api.openai.com/v1/chat/completions "200 OK"
[DEBUG] openai._base_client: Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role':'system', 'content': 'You are an expert B2B sales analyst. Analyze contacts to identify high-value targets. Return only valid JSON.'}, {'role':'user', 'content': 'You are analyzing contacts in the Travel industry to identify high-value targets for two solutions:\n\n1. Onlyne Reputation(onlynereputation.com): Digital/AI reputation management, review generation, sentiment analysis\n2. The AI Company (theaicompany.ngrok.app): GenAI Agentic Platform, Revenue Growth Platform, automation solutions\n\nIndustry Context: Travel\n- Typical pain points: Need for digital transformation, Cost optimization, Market expansion\n- Common decision-makers: Director, VP, Manager\n- Industry-specific challenges: Digital transformation, Operational efficiency, Market growth\n\n\n\n\n\nContacts to Analyze:\n\nContact 1:\n- Name: Thipi Reddy Vivek\n- Role: Owner\n- Company:The Biryani House\n- Email: thipi.vivek@biryanihouse.com\n- LinkedIn: https://www.linkedin.com/in/thipi-reddy-vivek-reddy-05519a1b4\n- Industry: food & beverages\n\nContact 2:\n- Name: Veenu Aggarwal\n- Role: Business Owner\n- Company: Best Bikaner Sweets\n- Email: veenu.aggarwal@bikanersweets.co.in\n- LinkedIn: https://www.linkedin.com/in/veenu-aggarwal-398271137\n- Industry: food & beverages\n\nContact 3:\n- Name: Fresh\n- Role: Business Owner\n- Company: So Fresh\n- Email: fresh@sofreshng.com\n- LinkedIn: https://www.linkedin.com/in/so-fresh-b108ab209\n- Industry: food & beverages\n\nContact 4:\n- Name: Blue Plate\n- Role: Company Director\n- Company: Blue Plate Catering\n- Email: bplate@blueplatechicago.com\n- LinkedIn: https://www.linkedin.com/in/blue-plate-14941721b\n- Industry: food & beverages\n\nContact 5:\n- Name: Herminder Oberoi\n- Role: Director\n- Company: Enrich Agro Food Products Pvt. Ltd.\n- Email: herminder.oberoi@enrichagro.com\n- LinkedIn: https://www.linkedin.com/in/herminder-oberoi-0a3643101\n- Industry: food & beverages\n\nContact 6:\n- Name: Ashish Agarwal\n- Role: Managing Director\n- Company: Haldiram SnacksPvt. Ltd.\n- Email: ashishagarwal@haldiram.com\n- LinkedIn: https://www.linkedin.com/in/ashish-agarwal-8ba1b7b8\n- Industry: food & beverages\n\nContact 7:\n- Name: Aradhana Delights\n- Role: Owner\n- Company: Aradhana Delights\n- Email: aradhana.delights@zomato.com\n- LinkedIn: https://www.linkedin.com/in/aradhana-delights-38a3322a8\n- Industry: food & beverages\n\nContact 8:\n- Name: Dhruv Singh\n- Role: Director\n- Company: Kake Di Hatti\n- Email: dhruv.singh@kakedihatti.com\n- LinkedIn: https://www.linkedin.com/in/dhruv-singh-4b16151b3\n- Industry: food & beverages\n\nContact 9:\n- Name: Cafe Desire\n- Role: Franchise Owner\n- Company: Cafe Desire\n- Email: zm2@cafedesire.co.in\n- LinkedIn: https://www.linkedin.com/in/cafe-desire-56199219b\n- Industry: food & beverages\n\nContact 10:\n- Name: Rajan Sethi\n- Role: Director\n- Company: Bright Hospitality Private Limited\n- Email: rajan.sethi@brighthospitality.in\n- LinkedIn: https://www.linkedin.com/in/rajan-sethi-7311a67b\n- Industry: food& beverages\n\n\nFor each contact, analyze and return JSON with:\n{\n  "recommendations": [\n    {\n      "contact_id": "contact UUID",\n      "contact_name": "Full name",\n      "company_name": "Company name",\n      "role": "Job title",\n      "email": "email if available",\n      "phone": "phone if available",\n      "linkedin_url": "LinkedIn URL if available",\n      "seniority_score": 0.0-1.0,  // Industry-appropriate: C-suite=0.9+, VP=0.7-0.9, Director=0.5-0.7\n      "solution_fit": "onlyne_reputation | the_ai_company | both",\n      "confidence_score": 0.0-1.0,\n      "identified_gaps": ["gap1", "gap2"],  // Industry-specific enterprise gaps\n      "recommended_pitch_angle": "Industry-specific outreach strategy",\n      "pain_points": ["pain1", "pain2"],  // Industry-relevant pain points\n      "reasoning": "Brief explanation with industry context and RAG/Gemini examples"\n    }\n  ]\n}\n\nFocus on:\n- Seniority appropriate for Travel industry\n- Solution fit based on industry patternsand RAG/Gemini examples\n- Industry-specific gaps and pain points\n- High confidence recommendations only\n\nReturn only valid JSON.'}], 'model': 'gpt-4o-mini', 'max_tokens': 4000, 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
[DEBUG] openai._base_client: HTTP Request: POST https://api.openai.com/v1/chat/completions "200 OK"
[DEBUG] openai._base_client: Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role':'system', 'content': 'You are an expert B2B sales analyst. Analyze contacts to identify high-value targets. Return only valid JSON.'}, {'role':'user', 'content': 'You are analyzing contacts in the Travel industry to identify high-value targets for two solutions:\n\n1. Onlyne Reputation(onlynereputation.com): Digital/AI reputation management, review generation, sentiment analysis\n2. The AI Company (theaicompany.ngrok.app): GenAI Agentic Platform, Revenue Growth Platform, automation solutions\n\nIndustry Context: Travel\n- Typical pain points: Need for digital transformation, Cost optimization, Market expansion\n- Common decision-makers: Director, VP, Manager\n- Industry-specific challenges: Digital transformation, Operational efficiency, Market growth\n\n\n\n\n\nContacts to Analyze:\n\nContact 1:\n- Name: Aalishan Handicrafts\n- Role: President\n- Company: Akbar Brothers\n- Email: aalishan@akbar.com\n- LinkedIn: https://www.linkedin.com/in/aalishan-handicrafts-968a93282\n- Industry: food & beverages\n\nContact 2:\n- Name: Shivani Mandal\n- Role: Finance Business Partner\n- Company: The Whole Truth Foods\n- Email: shivani@thewholetruthfoods.com\n- LinkedIn: https://www.linkedin.com/in/shivani-mandal-12597720b\n- Industry: food & beverages\n\nContact 3:\n- Name: Shanya Singh\n- Role: CEO\n- Company: CUP\n- Email: shanya.singh@cuponwheels.com\n- LinkedIn: https://www.linkedin.com/in/shanya-singh-004976170\n- Industry: food & beverages\n\nContact 4:\n- Name: Lakshay Arora\n- Role: Owner\n- Company: Confectionary\n- Email: lakshay.arora@lakelandconfectionary.com\n- LinkedIn: https://www.linkedin.com/in/lakshay-arora-922b47141\n- Industry: food & beverages\n\nContact 5:\n- Name: Sanjeev Sishodia\n- Role: Chief Operating Officer\n- Company: Bakers Circle India and the Middle East\n- Email: sanjeev.sishodia@bakers.global\n- LinkedIn: https://www.linkedin.com/in/sanjeev-sishodia\n- Industry: food & beverages\n\nContact 6:\n- Name: Puneet Kohli\n- Role: Head of Operations\n- Company: The Burger Club Official\n- Email: puneet.kohli@theburgerclub.in\n- LinkedIn: https://www.linkedin.com/in/puneet-kohli-462117223\n- Industry: food &beverages\n\nContact 7:\n- Name: Pawan Sehgal\n- Role: Zonal Business Head\n- Company: Coolberg\n- Email: pawan.sehgal@coolberg.in\n- LinkedIn:https://www.linkedin.com/in/pawan-sehgal-54a928112\n- Industry: food & beverages\n\nContact 8:\n- Name: Kusum Singh\n- Role: Senior Client Partner\n- Company: HungerBox\n- Email: kusum.singh@hungerbox.com\n- LinkedIn: https://www.linkedin.com/in/kusum-singh-a6932b2a7\n- Industry: food &beverages\n\nContact 9:\n- Name: Suresh Sharma\n- Role: Chief\n- Company: Urban Food & Groceries\n- Email: suresh@urbangreens.com\n- LinkedIn: https://www.linkedin.com/in/suresh-sharma-54a0ba21\n- Industry: food & beverages\n\nContact 10:\n- Name: Anil Girdhar\n- Role: Managing Director\n- Company: Food Art Hospitality\n- Email: anil@zoho.com\n- LinkedIn: https://www.linkedin.com/in/anil-girdhar-13905839\n- Industry: food & beverages\n\n\nFor each contact, analyze and return JSON with:\n{\n  "recommendations": [\n    {\n      "contact_id": "contact UUID",\n      "contact_name": "Full name",\n      "company_name": "Company name",\n      "role": "Job title",\n      "email": "email if available",\n      "phone": "phone if available",\n      "linkedin_url": "LinkedIn URL if available",\n      "seniority_score": 0.0-1.0,  // Industry-appropriate: C-suite=0.9+, VP=0.7-0.9, Director=0.5-0.7\n      "solution_fit": "onlyne_reputation | the_ai_company | both",\n      "confidence_score": 0.0-1.0,\n"identified_gaps": ["gap1", "gap2"],  // Industry-specific enterprise gaps\n      "recommended_pitch_angle": "Industry-specific outreach strategy",\n      "pain_points": ["pain1", "pain2"],  // Industry-relevant pain points\n      "reasoning": "Brief explanation with industry context and RAG/Gemini examples"\n    }\n  ]\n}\n\nFocus on:\n- Seniority appropriate for Travel industry\n- Solution fit based on industry patterns and RAG/Gemini examples\n- Industry-specific gaps and pain points\n- High confidence recommendations only\n\nReturn only valid JSON.'}], 'model': 'gpt-4o-mini', 'max_tokens': 4000, 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
[DEBUG] openai._base_client: HTTP Request: POST https://api.openai.com/v1/chat/completions "200 OK"
[DEBUG] openai._base_client: Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role':'system', 'content': 'You are an expert B2B sales analyst. Analyze contacts to identify high-value targets. Return only valid JSON.'}, {'role':'user', 'content': 'You are analyzing contacts in the Travel industry to identify high-value targets for two solutions:\n\n1. Onlyne Reputation(onlynereputation.com): Digital/AI reputation management, review generation, sentiment analysis\n2. The AI Company (theaicompany.ngrok.app): GenAI Agentic Platform, Revenue Growth Platform, automation solutions\n\nIndustry Context: Travel\n- Typical pain points: Need for digital transformation, Cost optimization, Market expansion\n- Common decision-makers: Director, VP, Manager\n- Industry-specific challenges: Digital transformation, Operational efficiency, Market growth\n\n\n\n\n\nContacts to Analyze:\n\nContact 1:\n- Name: Divya Sharma\n- Role: Director\n- Company: Xero Degrees Cafe Private Limited\n- Email: divya.sharma@xerodegrees.com\n- LinkedIn: https://www.linkedin.com/in/divya-sharma-83016a162\n- Industry: food & beverages\n\nContact 2:\n- Name: Dinika Bhatia Dey\n- Role: Founder & CEO\n- Company: DRB Foods\n- Email: dinika.bhatia@drbfoods.com\n- LinkedIn: https://www.linkedin.com/in/dinikabhatia\n- Industry: food & beverages\n\nContact 3:\n- Name: Rajesh Rungta\n- Role: Director\n- Company: Rungta Tea Private Limited\n- Email: rajesh.rungta@rungtatea.in\n- LinkedIn: https://www.linkedin.com/in/rajesh-rungta-ab0510142\n- Industry: food & beverages\n\nContact 4:\n- Name: K M Jha\n- Role: Executive Vice President.\n- Company: Adie Broswan Corporation\n- Email: kjha@adiebroswon.com\n- LinkedIn: https://www.linkedin.com/in/k-m-jha-70a11258\n- Industry: food & beverages\n\nContact 5:\n- Name: Umesh Madhyan\n- Role: Vice President - Logistics\n- Company: Hindustan Coca-Cola Beverages\n- Email: umadhyan@coca-cola.in\n- LinkedIn: https://www.linkedin.com/in/umeshmadhyan\n- Industry: food & beverages\n\nContact 6:\n- Name: Caroline Betz\n- Role: Executive Assistant to the Managing Director\n- Company: Ebro India\n- Email: caroline.betz@ebroindia.in\n- LinkedIn: https://www.linkedin.com/in/caroline-betz-42637a1b5\n- Industry: food & beverages\n\nContact 7:\n- Name: Raman Bhatia\n- Role: New Product Introduction Specialist\n- Company: Manpasand Bevarages Pvt. Ltd.\n- Email: raman.bhatia@manpasand.co.in\n- LinkedIn: https://www.linkedin.com/in/raman-bhatia-ab65982a6\n- Industry: food & beverages\n\nContact 8:\n- Name: Harith Budhraja\n- Role: Director\n- Company: Holyland Group\n- Email: harith@holylandgroup.com\n- LinkedIn: https://www.linkedin.com/in/harith-budhraja-338493a8\n- Industry: food & beverages\n\nContact 9:\n- Name: Tenzin Thardoe\n- Role: Founder\n- Company: Ama Caf√©\n- Email: thardoe@amacafe.co\n- LinkedIn: https://www.linkedin.com/in/thardoe\n- Industry: food & beverages\n\nContact 10:\n- Name: Gaurav Kanwar\n- Role: Founder & CEO\n-Company: Harajuku Tokyo Cafe\n- Email: gaurav@harajukutokyocafe.jp\n- LinkedIn: https://www.linkedin.com/in/gaurav-kanwar-1a65b6157\n- Industry: food & beverages\n\n\nFor each contact, analyze and return JSON with:\n{\n  "recommendations": [\n    {\n      "contact_id": "contact UUID",\n     "contact_name": "Full name",\n      "company_name": "Company name",\n      "role": "Job title",\n      "email": "email if available",\n  "phone": "phone if available",\n      "linkedin_url": "LinkedIn URL if available",\n      "seniority_score": 0.0-1.0,  // Industry-appropriate: C-suite=0.9+, VP=0.7-0.9, Director=0.5-0.7\n      "solution_fit": "onlyne_reputation | the_ai_company | both",\n      "confidence_score": 0.0-1.0,\n      "identified_gaps": ["gap1", "gap2"],  // Industry-specific enterprise gaps\n      "recommended_pitch_angle": "Industry-specific outreach strategy",\n      "pain_points": ["pain1", "pain2"],  // Industry-relevant pain points\n      "reasoning": "Brief explanation with industry context and RAG/Gemini examples"\n    }\n  ]\n}\n\nFocus on:\n- Seniority appropriate for Travel industry\n- Solution fit based on industry patterns and RAG/Gemini examples\n- Industry-specific gaps and pain points\n- High confidence recommendations only\n\nReturn only valid JSON.'}], 'model': 'gpt-4o-mini', 'max_tokens': 4000, 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
[DEBUG] openai._base_client: HTTP Request: POST https://api.openai.com/v1/chat/completions "200 OK"
[DEBUG] openai._base_client: Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role':'system', 'content': 'You are an expert B2B sales analyst. Analyze contacts to identify high-value targets. Return only valid JSON.'}, {'role':'user', 'content': 'You are analyzing contacts in the Travel industry to identify high-value targets for two solutions:\n\n1. Onlyne Reputation(onlynereputation.com): Digital/AI reputation management, review generation, sentiment analysis\n2. The AI Company (theaicompany.ngrok.app): GenAI Agentic Platform, Revenue Growth Platform, automation solutions\n\nIndustry Context: Travel\n- Typical pain points: Need for digital transformation, Cost optimization, Market expansion\n- Common decision-makers: Director, VP, Manager\n- Industry-specific challenges: Digital transformation, Operational efficiency, Market growth\n\n\n\n\n\nContacts to Analyze:\n\nContact 1:\n- Name: Nitin Makkar\n- Role: Master Franchisee\n- Company: Rolls Mania\n- Email: nitin@rollsmania.com\n- LinkedIn: https://www.linkedin.com/in/nitin-makkar-4a1815b1\n- Industry: food & beverages\n\nContact 2:\n- Name: Arijit Ghosh\n- Role: Vice President of Sales\n- Company: Lone Wolf\n- Email: arijit@lonewolfbev.com\n- LinkedIn: https://www.linkedin.com/in/arijit-ghosh-964a98155\n- Industry: food & beverages\n\nContact 3:\n- Name: Angad Soni\n- Role: Founder\n- Company: Sepoy& Co.\n- Email: angad@sepoyandco.com\n- LinkedIn: https://www.linkedin.com/in/soniangad\n- Industry: food & beverages\n\nContact 4:\n- Name: Vedant Jailkhani\n- Role: Merchandise Manager\n- Company: GoodHealth Industries Pvt. Ltd.\n- Email: vedant.jailkhani@xostrucks.com\n- LinkedIn: https://www.linkedin.com/in/vedant-jailkhani-371855216\n- Industry: food & beverages\n\nContact 5:\n- Name: Pankaj Vashisht\n- Role: Regional Business Head, North\n- Company: Rasna International\n- Email: pankaj@rasnainternational.com\n- LinkedIn: https://www.linkedin.com/in/pankaj-vashisht-698a384a\n- Industry: food & beverages\n\nContact 6:\n- Name: Deepak Gautam\n- Role: ODC Events & Corporate Sales\n- Company: 4700bc\n- Email: deepak.gautam@4700bc.com\n- LinkedIn: https://www.linkedin.com/in/deepak-gautam-a6053720\n- Industry: food & beverages\n\nContact 7:\n- Name: Shashank Dixit\n- Role: Assistant Vice President- Nutrition\n- Company: NuTaste Group\n- Email: dixitshashank@yahoo.co.in\n- LinkedIn: https://www.linkedin.com/in/shashankbdixit\n- Industry: food & beverages\n\nContact 8:\n- Name: Sushant Mishra\n- Role: Vice President\n- Company: Kohinoor Foods Ltd.\n- Email: sushant@kohinoorfoods.com\n- LinkedIn: https://www.linkedin.com/in/dr-sushant-mishra-9127b418\n- Industry: food & beverages\n\nContact 9:\n- Name: Harshwin Chhabra\n- Role: Brand Manager\n- Company: Zomato\n- Email: harshwin.chhabra@zomato.com\n- LinkedIn: https://www.linkedin.com/in/harshwin-chhabra-73571aa7\n- Industry: food & beverages\n\nContact 10:\n- Name: Ajay Katyal\n- Role: President\n- Company: Sunstar Overseas Ltd.\n- Email: ajaykatyal@sunstarmail.com\n- LinkedIn: https://www.linkedin.com/in/ajay-katyal-1671336\n- Industry: food & beverages\n\n\nFor each contact, analyze and return JSON with:\n{\n  "recommendations": [\n    {\n      "contact_id": "contact UUID",\n      "contact_name": "Full name",\n      "company_name": "Company name",\n      "role": "Job title",\n      "email": "email if available",\n      "phone": "phone if available",\n      "linkedin_url": "LinkedIn URL if available",\n      "seniority_score": 0.0-1.0,  // Industry-appropriate: C-suite=0.9+, VP=0.7-0.9, Director=0.5-0.7\n      "solution_fit": "onlyne_reputation | the_ai_company | both",\n      "confidence_score": 0.0-1.0,\n      "identified_gaps": ["gap1", "gap2"],  // Industry-specific enterprise gaps\n      "recommended_pitch_angle": "Industry-specific outreach strategy",\n      "pain_points": ["pain1", "pain2"],  // Industry-relevant pain points\n      "reasoning": "Brief explanation with industry context and RAG/Gemini examples"\n    }\n  ]\n}\n\nFocus on:\n- Seniority appropriate for Travel industry\n- Solution fit based on industry patterns and RAG/Gemini examples\n- Industry-specific gaps and pain points\n- High confidence recommendations only\n\nReturn only valid JSON.'}], 'model': 'gpt-4o-mini', 'max_tokens': 4000, 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
[DEBUG] openai._base_client: HTTP Request: POST https://api.openai.com/v1/chat/completions "200 OK"
[DEBUG] openai._base_client: Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role':'system', 'content': 'You are an expert B2B sales analyst. Analyze contacts to identify high-value targets. Return only valid JSON.'}, {'role':'user', 'content': 'You are analyzing contacts in the Travel industry to identify high-value targets for two solutions:\n\n1. Onlyne Reputation(onlynereputation.com): Digital/AI reputation management, review generation, sentiment analysis\n2. The AI Company (theaicompany.ngrok.app): GenAI Agentic Platform, Revenue Growth Platform, automation solutions\n\nIndustry Context: Travel\n- Typical pain points: Need for digital transformation, Cost optimization, Market expansion\n- Common decision-makers: Director, VP, Manager\n- Industry-specific challenges: Digital transformation, Operational efficiency, Market growth\n\n\n\n\n\nContacts to Analyze:\n\nContact 1:\n- Name: L R Sharma\n- Role: Chairman & CEO\n- Company: Nbl & Seemax Group\n- Email: l.sharma@hillberrys.com\n- LinkedIn: https://www.linkedin.com/in/dr-l-r-sharma-b2b9011b\n- Industry: food & beverages\n\nContact 2:\n- Name: Tanmay Mehrotra\n- Role: City Head\n- Company: Roastea\n- Email: tanmay.mehrotra@roastea.in\n- LinkedIn: https://www.linkedin.com/in/tanmay-mehrotra-2884b6164\n- Industry: food & beverages\n\nContact 3:\n- Name: Rohit Sharma\n- Role: Head of Business Development\n- Company: Roastea\n- Email: rohit.sharma@roastea.in\n- LinkedIn: https://www.linkedin.com/in/rohit-sharma-54ba3a22\n- Industry: food & beverages\n\nContact 4:\n- Name: Sumit Narayan\n- Role: Finance Manager\n- Company: 4700bc\n- Email: sumit.narayan@4700bc.com\n- LinkedIn: https://www.linkedin.com/in/sumit-narayan-b411771ba\n- Industry: food & beverages\n\nContact 5:\n- Name: Arvind Goyal\n- Role: Group CFO\n- Company: Pansari Group\n- Email: arvind@pansari.co.in\n- LinkedIn: https://www.linkedin.com/in/arvind-goyal-2265671b\n- Industry: food & beverages\n\nContact 6:\n- Name: Brajesh Sinha\n- Role: Vice President\n- Company: Saima Group\n- Email: b.sinha@saimaspa.it\n- LinkedIn: https://www.linkedin.com/in/brajesh-sinha-181533254\n- Industry: food & beverages\n\nContact 7:\n- Name: Harish Chitkara\n- Role: Director\n- Company: Asha Traexim Private Limited\n- Email: harish.chitkara@atplco.com\n- LinkedIn: https://www.linkedin.com/in/harish-chitkara-85371a33a\n- Industry: food & beverages\n\nContact 8:\n- Name: Raj Prity Sabharwal\n- Role: Partner Sensory Research & Inisghts\n- Company: TagTaste Foods Pvt. Ltd.\n- Email: raj@tagtaste.com\n- LinkedIn: https://www.linkedin.com/in/raj-prity-sabharwal-881703294\n- Industry: food & beverages\n\nContact 9:\n- Name: Avnish Kumar\n- Role: Managing Partner\n- Company: Big Boyz Lounge\n- Email: akumar@tripadvisor.com\n- LinkedIn: https://www.linkedin.com/in/avnish-kumar-85992019\n- Industry: food & beverages\n\nContact 10:\n- Name: Nimesh Kuamr\n- Role: Owner\n- Company: Nkr Resturant\n- Email: nimesh.kuamr@hotelsunworld.com\n- LinkedIn: https://www.linkedin.com/in/nimesh-kuamr-b925a13b\n- Industry: food & beverages\n\n\nFor each contact, analyze and return JSON with:\n{\n  "recommendations": [\n    {\n      "contact_id": "contact UUID",\n      "contact_name": "Full name",\n      "company_name":"Company name",\n      "role": "Job title",\n      "email": "email if available",\n      "phone": "phone if available",\n      "linkedin_url": "LinkedIn URL if available",\n      "seniority_score": 0.0-1.0,  // Industry-appropriate: C-suite=0.9+, VP=0.7-0.9, Director=0.5-0.7\n      "solution_fit": "onlyne_reputation | the_ai_company | both",\n      "confidence_score": 0.0-1.0,\n      "identified_gaps": ["gap1", "gap2"],  // Industry-specific enterprise gaps\n      "recommended_pitch_angle": "Industry-specific outreach strategy",\n      "pain_points": ["pain1", "pain2"],  // Industry-relevant pain points\n      "reasoning": "Brief explanation with industry context and RAG/Gemini examples"\n    }\n  ]\n}\n\nFocus on:\n- Seniority appropriate for Travel industry\n- Solution fit based on industry patterns and RAG/Gemini examples\n- Industry-specific gaps and pain points\n- High confidence recommendations only\n\nReturn only valid JSON.'}], 'model': 'gpt-4o-mini', 'max_tokens': 4000, 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
[DEBUG] openai._base_client: HTTP Request: POST https://api.openai.com/v1/chat/completions "200 OK"
[DEBUG] openai._base_client: Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role':'system', 'content': 'You are an expert B2B sales analyst. Analyze contacts to identify high-value targets. Return only valid JSON.'}, {'role':'user', 'content': 'You are analyzing contacts in the Travel industry to identify high-value targets for two solutions:\n\n1. Onlyne Reputation(onlynereputation.com): Digital/AI reputation management, review generation, sentiment analysis\n2. The AI Company (theaicompany.ngrok.app): GenAI Agentic Platform, Revenue Growth Platform, automation solutions\n\nIndustry Context: Travel\n- Typical pain points: Need for digital transformation, Cost optimization, Market expansion\n- Common decision-makers: Director, VP, Manager\n- Industry-specific challenges: Digital transformation, Operational efficiency, Market growth\n\n\n\n\n\nContacts to Analyze:\n\nContact 1:\n- Name: Birmaninder Saggoo\n- Role: Director - QSR Domestic & IB\n- Company: VKL Seasoning Pvt. Ltd.\n- Email: birmaninder.saggoo@vklspices.com\n- LinkedIn: https://www.linkedin.com/in/birmaninder-saggoo-55a19717\n- Industry: food & beverages\n\nContact 2:\n- Name: Dron Agarwal\n- Role: Director\n- Company: Priyagold\n- Email: dron@priyagold.com\n- LinkedIn: https://www.linkedin.com/in/dron-agarwal-554855106\n- Industry: food & beverages\n\nContact 3:\n- Name: Anrudh Gupta\n- Role: Vice President Of Accounting\n- Company: Dhampur Bio Organics Ltd.\n- Email: anrudhgupta@dhampur.com\n- LinkedIn: https://www.linkedin.com/in/fca-anrudh-gupta-287aba20\n- Industry: food & beverages\n\nContact 4:\n- Name: Sumit Chauhan\n- Role: Director Pansari Industry Pvt Ltd\n- Company: Pansari Group\n- Email: sumit@pansari.co.in\n- LinkedIn: https://www.linkedin.com/in/sumit-chauhan-75b1aa1b4\n- Industry: food & beverages\n\nContact 5:\n- Name: Ahtesham Hasan Khan\n- Role: Vice President-Sales\n- Company: Hocco\n- Email: ahtesham.khan@hocco.in\n- LinkedIn: https://www.linkedin.com/in/ahtesham-hasan-khan-87a23b16\n- Industry: food & beverages\n\n\nFor each contact, analyze and return JSON with:\n{\n  "recommendations": [\n    {\n      "contact_id": "contact UUID",\n      "contact_name": "Full name",\n      "company_name": "Company name",\n      "role": "Job title",\n      "email": "email if available",\n      "phone": "phone if available",\n      "linkedin_url": "LinkedIn URL if available",\n      "seniority_score": 0.0-1.0,  // Industry-appropriate: C-suite=0.9+, VP=0.7-0.9, Director=0.5-0.7\n      "solution_fit": "onlyne_reputation | the_ai_company | both",\n      "confidence_score": 0.0-1.0,\n      "identified_gaps": ["gap1", "gap2"],  // Industry-specific enterprise gaps\n      "recommended_pitch_angle": "Industry-specific outreach strategy",\n      "pain_points": ["pain1", "pain2"],  // Industry-relevant pain points\n      "reasoning": "Brief explanation with industry context and RAG/Gemini examples"\n    }\n  ]\n}\n\nFocus on:\n- Seniority appropriate for Travel industry\n- Solution fit based on industry patterns and RAG/Gemini examples\n- Industry-specific gaps and pain points\n- High confidence recommendations only\n\nReturn only valid JSON.'}], 'model': 'gpt-4o-mini', 'max_tokens': 4000, 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
[DEBUG] openai._base_client: HTTP Request: POST https://api.openai.com/v1/chat/completions "200 OK"
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:27:03] "POST /api/targets/ai-identify HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:31:37] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:31:42] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:31:51] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=500, offset=0
[DEBUG] app.auth: require_auth: Validating token for /api/contacts
[DEBUG] app.api.companies: Found 500 companies
[DEBUG] app.auth: require_use_case(contact_management): Super user bypass
[INFO] app.api.contacts: Contacts API: Returning 1000 contacts (total: 2003), 943 with emails
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:33:40] "GET /api/contacts HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/industries
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:33:43] "GET /api/industries HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=1000, offset=0
[DEBUG] app.api.companies: Found 1000 companies
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=500, offset=0
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=500, offset=0
[DEBUG] app.api.companies: Found 500 companies
[DEBUG] app.api.companies: Found 500 companies
[DEBUG] app.auth: require_auth: Validating token for /api/companies
[DEBUG] app.auth: require_use_case(company_management): Super user bypass
[DEBUG] app.api.companies: Listing companies: industry=None, search=None, limit=500, offset=0
[DEBUG] app.api.companies: Found 500 companies
[DEBUG] app.api.companies: Error getting contact count for company e6572907-165f-4295-b58e-8af21c250cd3: The read operation timed out
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:36:36] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:36:39] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:36:53] "GET /api/dashboard/stats HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 500 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:37:07] "GET /api/companies HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 500 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:37:23] "GET /api/companies HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 500 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:37:24] "GET /api/companies HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 500 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:37:25] "GET /api/companies HTTP/1.1" 200 -
[INFO] app.api.companies: Successfully listed 1000 companies
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:40:23] "GET /api/companies?limit=1000 HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/meetings
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[DEBUG] app.auth: require_use_case(meetings): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:41:47] "GET /api/meetings?status=scheduled HTTP/1.1" 200 -
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:41:54] "GET /api/dashboard/stats HTTP/1.1" 200 -
[DEBUG] app.auth: require_auth: Validating token for /api/dashboard/stats
[DEBUG] app.auth: require_use_case(analytics): Super user bypass
[INFO] werkzeug: 127.0.0.1 - - [11/Dec/2025 18:42:08] "GET /api/dashboard/stats HTTP/1.1" 200 -
